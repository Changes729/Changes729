> 文章来源：https://mp.weixin.qq.com/s/iQw-PHlUWQBVpA1yLF-QsA

# 如何保护数据平台的隐私数据？

## 前言

这篇文章蛮好的，从技术和技术面向的需求两方面切入，评论我们为何需要隐私数据。也算是给一些「无隐私主义者」（对就是我自己）提供了反思的材料。



## 关键词

隐私数据类型：

- 第一类隐私数据 **PII**（**Personally Identifiable Information,** 个人身份信息）：指与个人身份相关的信息。这些信息包括姓名、电话号码、邮箱地址、社会安全号码、银行账号信息等，这些信息可以直接或结合其他信息用于**识别某个特定个人**。
- 第二类隐私数据是与个人相关的信息，但不属于PII。这包括个人的兴趣爱好、性格、活动和信仰、个人的行程信息、健康信息等。
- 第三类隐私数据是个人、企业或组织的专有且保密的信息。通常，与商业性质有关或与合同有关的数据被认为是敏感的，泄露这类数据往往会影响商业运营或面临法律风险。

隐私扫描工具：[microsoft](https://github.com/microsoft)/[presidio](https://github.com/microsoft/presidio)

隐私保护技术：

- 数据脱敏 （Data Masking）：假名化（Pseudonymous），通过用虚假信息替换PII信息或者对敏感信息进行加密来实现对隐私数据的。**大部分脱敏技术处理过后数据不可逆，即没办法还原成原文**。

  | 方法                                    | 描述                                         | 示例                                                        |
  | --------------------------------------- | -------------------------------------------- | ----------------------------------------------------------- |
  | 屏蔽（Masking）                         | 屏蔽部分数据，如电话、身份证号码中间部分位数 | 17728391023 → 177xxxx1023                                   |
  | 哈希（Hashing                           | 将输入映射为固定长度的字符串                 | john@thoughtworks.com → ajdsifojwoiefahodsjoaijd            |
  | FPE加密（Format-Preserving Encryption） | 明文和密文格式不变                           | 1990-01-03 → 2dwa-42-14                                     |
  | 唯一替换                                | 使用替换表对敏感数据进行1对1替换             | 1 → a, 2 → b                                                |
  | 加密（Encryption）                      | 通过密码学算法对数据信息进行加密             | 18623413242 -> U2FsdGVkX1/QEA+22HEm08QrrrV8YqLhBi1joQhNgmo= |

  - **静态脱敏**：通过数据脱敏技术，将生产数据脱敏后导出到目标的存储中，被存储的数据已经改变了信息内容。
  - **动态脱敏**：通过准确地解析SQL语句匹配脱敏条件，在匹配成功后，改写查询语句或者返回数据，将脱敏后的数据返回。

- 匿名化（Anonymous）：数据匿名通过完全消除PII信息来保护数据的隐私。数据匿名化的目的是使数据集中的个人身份信息不能被确定，从而使数据更加安全。<u>匿名化的数据通常不再属于个人信息的范畴，因此也不受大部分个人数据保护相关的法律法规的限制</u>。

  1. 数据删除：从数据中删除某些字段，以此来消除数据中的个人身份信息。
  2. 数据随机化：对数据进行随机处理，以此来消除数据中的个人身份信息。
  3. 数据泛化、K匿名：将数据中的个人身份信息替换为区间值来保护个人隐私，同时也能保留一些数据价值。

- **隐私计算**是一种技术，旨在保护数据的隐私和安全，同时允许在不泄露原始数据的情况下进行数据处理和分析。它通过在受信任的执行环境中进行数据处理来实现这一目的，以便在数据处理完成后将结果返回给请求方。

  - **数据加密（Data Encryption）**（非对称加密和对称加密配合使用）
  - **数据哈希（Data Hashing）**：跨数据域隐私数据关联

**数据平台隐私数据保护实践**

- 基础设施：使用 HashiCorp Vault 作为安全管理和访问密钥的基础设施
- 数据源：让上游业务系统放入文件级别加密后的文件。
- 数据仓库：
  - 对于PII信息数据需要脱敏后或者加密后存储到数据仓库中。
  - 创建Masking Policy来实现动态数据脱敏。
  - 当下游的业务系统需要PII数据支持时，我们会在数据导出时对PII字段进行解密，再通过密码学算法使用数据平台的私钥和下游数据消费方的公钥对解密后的数据进行字段级别或者文件级别的加密，再写入到数据仓库应用层的数据集市中或者AWS S3 Buckets的文件中。



## 摘记

**01 为何需要保护隐私数据？**

泄露的个人隐私信息<u>将用户暴露于短信、电话骚扰甚至电信诈骗的危害之下</u>，同时也造成了用户对企业的信任危机，企业也将会面临监管的调查。



**02 如何保护隐私数据？**

处理隐私数据时需要考虑两个基本的要求：

1. **数据保密性**：需要保证潜在的数据泄露事件发生后，攻击者无法获取到敏感信息。
2. **数据可用性**：保证被处理后的数据，仍然保持某些统计特性或者业务含义，在某些业务场景中是可用的。