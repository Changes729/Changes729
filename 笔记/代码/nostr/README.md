> 协议来源：[nostr-protocol](https://github.com/nostr-protocol)/**[nostr](https://github.com/nostr-protocol/nostr)**

# nostr - Notes and Other Stuff Transmitted by Relays 

# 通过中继（Relays）转发文本或其他内容

这个超简单且开放的协议能够一劳永逸地（once and for all）创建抗审查（censorship-resistant）全局“社会”网络。

它不依赖任何可信赖的中央服务器，因此具有韧性（resilient）；它基于密码键和签名，因此具有防篡改。它不依赖P2P技术，因此可以正常工作。



## 简单描述它（nostr）是如何工作的

每个人都运行一个客户端。它可以是本地客户端，Web客户端等。为了发布某些内容，您需要写帖子，用密码签名并将其发送到多个依赖服务器上（由其他人或您自己托管的服务器）。为了获得其他人的最新信息，您询问多个依赖服务器否对这些人有所了解。任何人都可以运行一个服务器。服务器非常简单又愚蠢。除了接受某些人的帖子并转发给其他人之外没有做任何事情。服务器不需要去被信任。签名只在客户端进行了验证。

[如何开始使用 nostr](https://github.com/vishalxl/nostr_console/discussions/31)

[Nostr 客户端特性比较](https://github.com/vishalxl/Nostr-Clients-Features-List/blob/main/Readme.md)

[使用 Nostr 构建的项目](https://github.com/aljazceru/awesome-nostr)



## nostr 可以解决的问题

### Twitter的问题

- Twitter有广告
- Twitter使用一些特异的技术使您上瘾
- Twitter并未不会显示一个明确的关注的人的历史订阅（feed）
- Twitter会屏蔽人
- Twitter会暗中屏蔽（Shadowbans，虚空发言）人
- Twitter有很多垃圾信息（spam）



### Mastodon和类似程序的问题

- 用户身份附加到由第三方控制的域名
- 服务器所有者可以像Twitter一样屏蔽你；服务器所有者还可以屏蔽其他服务器
- 服务器之间的迁移是事后的想法，只有在服务器合作时才能完成。它在对抗环境中不起作用（所有追随者都丢失了）
- 没有明确的激励措施来运行服务器，因此，它们往往是由爱好者和想要将其名字贴在酷域中的人经营的。然后，用户受到一个人的专制，通常比Twitter这样的大公司要糟糕，而且他们无法迁移；
- 由于服务器倾向于业余时间运行，因此它们经常在一段时间后被放弃 - 这实际上与禁止所有人一样。
- 如果必须将每个服务器的更新都痛苦地推（并保存！）到许多其他服务器上，那么拥有大量服务器是没有意义的。这一点加剧了这一事实，即服务器倾向于大量存在，因此，更多的数据必须传递到更多的地方。
- 对于视频共享的具体示例，ActivityPub爱好者意识到，完全不可能以文本注释的方式将视频传输到服务器，因此他们决定仅将视频保留在发布到的单个实例上，这是类似于NOSTR方法。



### SSB的问题（安全Scuttlebutt）

它没有很多问题。我认为这很棒。我本来将其用作此的基础，但是

- 它的协议太复杂了，因为它根本没有考虑到开放协议。它只是用JavaScript编写的，这可能是一种快速解决特定问题并从中逐渐发展的方法，因此它具有怪异和不必要的怪癖，例如签署JSON字符串，该字符串必须严格遵循ECMA-262第六版的规则；
- 它坚持要拥有一系列来自单个用户的更新，这对我来说是不必要的，并且可以为事物增加膨胀和刚性 - 每个服务器/用户都需要存储所有帖子链以确保新的帖子有效。为什么？（也许他们有充分的理由）；
- 它不像NOSTR那样简单，因为它主要是用于P2P同步的，而“酒吧”是事后的想法。
- 尽管如此，可能值得考虑使用SSB代替此自定义协议并将其调整到客户端Relay服务器模型中，因为重复使用标准总是比试图让人们进入新的标准要好。



### 其他解决方案的问题，这些解决方案要求每个人运行自己的服务器

- 他们要求每个人运行自己的服务器；
- 有时人们仍然可以在这些中进行审查，因为可以审查域名。



## Nostr 是如何工作的

- 有两个组件：客户和中继器（Relays）。每个用户运行客户端。任何人都可以运行中继器。
- 每个用户都通过公钥确定。每个帖子都签名。每个客户都验证这些签名。
- 客户从他们选择的中继器中获取数据，并将数据发布到他们选择的其他中继器。中继不会直接与用户交谈。
  - 例如，要“关注”某人，用户只需指示其客户端查询其对该公共密钥的帖子所知道的继电器。
  - 在启动时，客户端查询来自所有中继器的数据，它知道它遵循的所有用户（例如，最后一天的所有更新），然后按时间顺序显示该数据。
- “帖子”可以包含任何类型的结构化数据，但是最常用的数据将找到标准的方式，以便所有客户端和继电器可以无缝处理它们。



## Nostr是如何解决其他网络无法解决的问题的？

### 用户被禁止，服务器关闭

- 一个中继器可以阻止用户在那里发布任何内容，但这对它们没有影响，因为他们仍然可以发布到其他中继器。由于用户是通过公共密钥确定的，因此他们在被禁止时不会失去身份和追随者基础。
- 不用要求用户手动键入新的继电器地址（尽管应该支持这一点），但每当您关注的人发布服务器推荐时，客户端应自动将其添加到继电器列表中。
- 如果有人使用继电器发布他们的数据，但想迁移到另一个数据，他们可以将服务器推荐发布给先前的继电器并进行；
- 如果某人被禁止从许多接力赛中，以至于他们无法收到服务器的建议，那么他们仍然可能让一些密友通过他们现在发布的其他继电器知道的其他方式知道。然后，这些亲密的朋友可以将服务器建议发布到该新服务器，慢慢地，被禁止用户的旧追随者基地将开始从新继电器中再次找到他们的帖子。
- 以上所有内容对于当继电器停止其操作时也有效。



### 审查制度

- 每个用户可以将其更新发布到任何数量的继电器。
- 接力可以收取费用（目前该费用的谈判不在协议之外）从用户出版，这确保了审查制度抵抗力（总会有一些俄罗斯服务器愿意拿走您的钱来换取您的帖子）。



### 垃圾邮件

如果垃圾邮件是对继电器的关注，它可能需要用于出版或其他形式的身份验证（例如电子邮件地址或电话），并将其内部与Pubkey相关联，然后将其发布到该中继或其他反性垃圾邮件技术，例如Hashcash或Captchas。如果将继电器用作垃圾邮件向量，则可以很容易地使用客户端，这可以继续从其他继电器中获取更新。



### 数据存储

为了使网络保持健康，不需要数百个活跃的继电器。实际上，鉴于可以在现有继电器开始行为不当的情况下，可以轻松地通过网络创建新继电器并通过网络传播，因此它可以很好地工作。因此，通常所需的数据存储量相对少于Mastodon或类似软件。

或考虑不同的结果：一个由业余爱好者运行的数百个利基继电器，每个接力赛来自一小部分用户。架构也同样缩放：数据将从用户发送到单个服务器，然后将该服务器直接发送到将消耗量的用户。它不必由其他人存储。在这种情况下，对于任何单个服务器处理其他服务器的更新并不是一个重大负担，并且拥有业余服务器并不是问题。



### 视频和其他沉重的内容

继电器很容易拒绝大量内容，或收取接受和托管大量内容的费用。当信息和激励措施清晰时，市场力量很容易解决问题。



### 欺骗用户的技术

每个客户都可以决定如何最好地向用户展示帖子，因此总是可以选择以您想要的方式消费您想要的东西 - 从使用AI来决定您所看到的更新顺序，以便仅阅读它们时间顺序。