文章来源: 腾讯CDC [原文地址](https://mp.weixin.qq.com/s/OuLERyRvq1bdnPTRT2-LGA)

## 对消息通知的理解

我觉得CDC在这方面理解的非常好. 消息通知是计算机技术主要的应用之一, 无论是实际生活中各种`Pub-Sub(Publish & Subscribe)` 如邮件, 如RSS, 简单的消息通知如朋友圈, 复杂的消息通知如Android消息栏, 甚至游戏领域的信息沟通, 或者军用领域.

从流程上说, 消息通知是一个信息传递的**过程**, 广义上来说, 它从**信息源**的产生开始, 到用户**接收到信息**结束. 但是CDC对消息通知的理解非常好, 就是他们不认为消息通知在收到信息就算结束了, 而是有一个**操作反馈**的最终阶段. 

那么流程中分析,就会有那么几个方面, 也是CDC列出来的:

- **消息触发时间与条件（何时什么事）：**如按周期重复的时间点，或系统状态变更、用户操作结果等
- **消息发送方（谁发现的事）：**可能是系统、第三方服务商，或者某个用户
- **消息接收方（谁需要知道）：**即接收方，可能是系统中的全部用户，也可能会根据权限划分推送到某个用户群组，或者是某个特定用户
- **消息触达渠道（怎么找到他）：**短信、电话、APP内通知等
- **消息通知内容（告诉他什么）：**短信的文本、电话对话内容、通知消息的文案等消息通知
- **消息操作反馈（他可以干嘛）：**主要分为只读与操作反馈。只读，即当前消息用户在浏览后不需要做更多的操作，主要以了解为主；操作反馈，即当前消息需要用户浏览，且在浏览后做相应的后续操作

CDC还对一个消息通知提供了一种评价标准, 现在来看应该是一种目标:

- **全面：**通知的消息项要完整全面，用户才能放心地通过消息通知系统了解消息更新内容
- **及时：**消息的触达方式要及时有效，在消息相关事件发生后，用户能在第一时间获取到信息并提供操作反馈给到消息发送方
- **高效：**能通过合理的消息发送途径、允许用户设置及合并相似信息等方式避免过多消息侵扰用户，让用户能够高效处理消息通知

CDC文章中对上面**盘点**通知系统的六个方面描述的非常详细, 这里有一点需要提出来讲:

![](https://p6.itc.cn/q_70/images03/20210504/b955b09d5bf3468e87b1ec759e69f527.png)

强弱提醒之分在这里挺有考虑价值的. 弱提醒的合并在数据层面是**聚类**.

CDC在设计消息的部分非常具有参考价值. 强烈建议在编写消息提醒时参考, 这部分放后面了.



### **撰写通知内容与操作反馈**

通知的内容需要满足简明易懂的同时，还要让用户能够快速处理。根据大量经验总结，通知内容的撰写可使用一个通用撰写公式：

![图片](https://p8.itc.cn/q_70/images03/20210504/83305d86cbf143e3a17a26ec31d78d5b.png)

在应用撰写公式写内容时，需注意以下要点：

- **重点前置：**用户触达的第一场景，可能是手机的push消息，可能是多个消息的列表。这就要求在撰写文案时要将重要信息前置，如验证码、还款金额、事件提醒名称等。
- **敏感信息保护：**由于无法确认用户获取信息的场景是否私密。对于金额、个人信息等隐私数据，建议在应用内或其他渠道提供设置项，提供用户自主选择是否在消息通知中包含具体数值。如果要默认显示，需要提前告知用户。
- **来源信息露出：**在邮件、短信等非产品自有渠道推送消息时，用户可能会不确定消息的来源是否官方，需要包含消息来源信息。
- **提供触发时间：**当消息的发生时间对用户后续判断、操作有影响时，需要在通知内容中包含消息发生的时间。

除了以上通用注意事项，由于渠道本身的特征差异，还需注意以下渠道相关的要点：

- **电话：**需要设定客服话术标准，一般需要在会话开始前先告知用户来电是谁、有什么目的。在讲述完通知内容后，还应告知用户如何处理当前信息，如果想了解详细内容该前往哪个渠道了解。
- **短信-来源平台：**由于通知类短信的发送号码可能会由于服务商设置的问题导致有多个发送号码发送给用户，用户无法根据号码判断发件人身份。故需要在短信最开始说明平台来源，建立品牌认知，避免用户错认为是垃圾短信。如：【腾讯科技】***
- **短信-操作反馈：**由于大部分短信为纯文本短信，相关操作反馈需要通过链接或者路径指引的方式提供。若短信包含详情链接，链接最好能设置为保留根域名的短链，如：点击了解详情：cdc.qq.com/d8djei
- **邮件：**与短信相似会有来源可信度问题，邮件内容需包含品牌元素，同时发件的邮箱地址后缀使用产品官方网站。另外需要注意，某些邮件软件会设置不自动下载图片，邮件重要内容不要使用图片。
- **push推送（移动端）：**是消息在移动端的特有触达渠道，由手机系统发送。发送的信息格式会受系统要求有所限制。最新的推送要求可参考相关设计规范文档或接口规范。应用的icon与名称系统会自动补充，撰写文案时不用包含。
- **微信公众号（订阅号/服务号）：**由于微信对订阅号与服务号的消息推送方式会经常变化，需要确认最新的要求并撰写文案，相关链接见链接。

在完成通知内容以及操作反馈的梳理后，对消息梳理表格进行更新，补充相关信息：

![图片](https://p6.itc.cn/q_70/images03/20210504/986fc5f7231d4a06ab474588a94f58b0.png)

自此，消息项的盘点已经完成，后续可基于该表格与产品、研发沟通。当业务出现变更时，也需要对表格内容进行同步更新。

### **如何「设计」消息中心**

消息通知的触达渠道中，电话、短信、push推送的呈现由系统决定。但是若产品有独立APP，往往需要消息中心去承载全量的消息列表。本章会介绍如何设计消息中心。

不同应用的消息中心处理方式受产品定位、应用框架等因素影响，设计差异化较大。但是可以通过按路径分割去简化设计：消息中心的入口、消息列表的组织方式、消息卡片的样式、消息的设置等几个部分。

![图片](https://p3.itc.cn/q_70/images03/20210504/c0b4ccb80fa04fb28004e2226e584aef.png)

#### **⒈消息中心入口**

主要有底部tab、个人中心附近的图标入口、个人中心的菜单项等三种入口形式：

![图片](https://p5.itc.cn/q_70/images03/20210504/914d5635c03b4e20be8877d1055bc24b.png)

- **底部tab：**一般适用于产品核心功能中包含大量用户间通讯，或者希望通过强化消息露出来促进用户上传更多内容。对于重要的消息类型可提供数字badge作为未读消息数量的提示
- **顶部图标入口：**一般适用于产品消息数量较少，或消息对产品核心场景的影响较少的情况。一般会在首页的顶部，或个人中心页的顶部有一图标作为入口。图标会包含数字badge作为未读消息数量的提示
- **个人中心菜单项：**一般适用于当产品顶部空间作他用，没有图标入口的位置时使用

#### **⒉消息列表**

从消息中心入口点击后跳转到消息列表。由于消息的即时性，需要按时间维度排列。但是如果产品的消息类型较多，可通过分组合并或者分tab的方式提升用户触达消息的效率。

![图片](https://p3.itc.cn/q_70/images03/20210504/09b3c2fea3474711bf1f6f63dab9cf97.png)

![图片](https://p2.itc.cn/q_70/images03/20210504/216afaa39eca486884daf3ccf58fcbf3.png)

对于通知类型复杂的系统，还可使用二级列表的形式对消息进一步分类展示，如微信及支付宝，由于其包含大量第三方服务，消息复杂，均设置了二级消息列表帮助用户分类查找消息。

![图片](https://p9.itc.cn/q_70/images03/20210504/402a0239bc96454d94d44e407415d407.png)

#### **⒊消息卡片**

消息列表中的卡片有两种样式可选，一般在一级消息列表使用小卡片样式，让用户有更高的浏览效率。大卡片样式则用于二级消息列表，或当前应用的消息数量较少时。

![图片](https://p2.itc.cn/q_70/images03/20210504/37f198a146a548f8a8baf045a64e5d3d.png)

#### **4.消息设置**

一般位于消息中心列表页右上角，若可设置项较多，则提供设置入口在二级页设置。一些常用的消息设置项如下：

- **全部已读：**对于消息数量较多，且未读态会影响badge的展示时需要提供该设置项。点击后设置列表消息项全部已读。
- **发起对话：**若系统包含通讯功能，一般会在消息类表页提供发起对话的快捷入口。点击后跳转到通讯录或好友列表。
- **设置通知提示方式：**提供按消息类型设置某些通知项的接受渠道、接收时间段、各渠道之间的已读联动等，如微博；或者让用户选择消息通知的精确度，是否包含具体信息，如微信可接收“您收到了一条信息”的模糊消息。
- **打开消息推送权限：**一些应用有一些状态更新或重要的提醒需要用户在系统设置中打开当前应用的通知权限，会包含提示用户打开通知的功能。这些提示需要在用户进行了如“办理事项”、“上传状态”等发起流程的操作后提示。不建议在用户启动APP时就弹窗提示打开通知。