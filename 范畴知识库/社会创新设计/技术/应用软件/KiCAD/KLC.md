> 网页链接：https://klc.kicad.org/

# KLC (KiCad Library Convention)

KiCad 库公约 (KLC) 是一套为官方 KiCad 库做出贡献的要求。希望提交或更新库文件的用户应该熟悉这些准则。

KLC 是一套*指南*，而不是*规则*。电子元件库种类繁多且复杂，库团队可自行决定是否做出例外。

当 KLC 与特定数据表或制造商建议有偏差时，*应优先考虑*数据表，除非有充分的理由不这样做（应由图书管理员澄清）。

如果 KLC 不清楚，用户应该尝试匹配现有库组件的约定，或寻求进一步的澄清。

请参阅[贡献指南](https://kicad.org/libraries/contribute/)，了解有关对 KiCad 库做出贡献的介绍信息。

------

## KLC 帮助脚本

KiCad 库团队开发了一组[Python 脚本](https://gitlab.com/kicad/libraries/kicad-library-utils)，可用于帮助测试库组件是否符合 KLC 要求。

当向库发出合并请求时，将使用这些脚本自动检查贡献的文件。在提交 PR 之前在本地机器上运行这些脚本会很有帮助，因为它将有助于加快将您的贡献合并到库中的过程。

例如，要运行封装检查器脚本，请`cd`进入“kicad-library-utils/klc-check”目录，然后运行 Python 脚本`./check_footprint.py path_to_fp1.kicad_mod path_to_fp2.kicad_mod -vv`。这将根据下面列出的 KLC 要求仔细检查您的封装，并通知您任何差异、错误或违规行为。请参阅上面链接中的自述文件中的更多使用示例。

*注意：虽然这些脚本检查了 KLC 的许多准则，但有些准则未涵盖。此外，任何 PR 都需要由图书馆团队成员进行手动检查。*

------

## 图书馆通用指南

通用库指南适用于所有库元素（符号 / 封装 / 模型 / 模板 / 3D 模型）。但是，在某些情况下，这些指南可能会被后续章节中描述的特定例外情况所取代。

------

### G1——一般准则

#### [G1.1 仅使用标准字符来命名库和组件](https://klc.kicad.org/general/g1/g1.1.html)

文件名、符号名称、封装名称、模型名称、3D 模型名称和模板名称必须仅包含有效字符，如下所示：

1. 字母数字字符（`A-Z`, `a-z`, `0-9`）
2. 下划线`_`
3. 连字符/破折号`-`
4. 句号/点`.`
5. 逗号`,`
6. 加号`+`

该字符集确保符号与所有文件系统兼容，并且不会因字符渲染而引起任何问题。

此外，文件名和符号名称不得**使用空格字符**。这可能会导致字符串转义问题，最好避免。

#### [G1.2 每间图书馆限藏250件](https://klc.kicad.org/general/g1/g1.2.html)

如果库中包含超过 250 个项目，则库加载时间会很长。此外，组件的分类如此广泛，这意味着很难在库中找到特定组件。

库中项目的大小限制`250`可确保快速加载库并轻松找到组件。如果给定库超出`250`组件，则应将其拆分并根据组件功能进一步细分。

#### [G1.3 库按功能组织](https://klc.kicad.org/general/g1/g1.3.html)

KiCad 库不是按制造商对组件（例如符号、封装）进行分组，而是按组件功能进行组织。这种分组策略有许多关键优点：

- 相似的组件被组合在一起，可以轻松替换替代部件
- 如果可能的话，符号应该从现有符号中*派生出来，以减少符号库的大小*
- 支持多家制造商生产的通用部件

库的组织应遵循如下所述的一般形式，其中每个元素用下划线 ( `_`) 字符分隔：

1. 库函数
2. 库子功能
3. 三级限定符？（Tertiary qualifier）
4. 制造商名称
5. 元件系列名称
6. 额外的库描述符

*注意：如果不需要，可以省略上面列出的某些元素。*

具体示例请参考组织[符号库](https://klc.kicad.org/symbol/s1/s1.1)和[封装库](https://klc.kicad.org/footprint/f1/f1.1)的指南。

#### [G1.4 图书馆应全面使用英语](https://klc.kicad.org/general/g1/g1.4.html)

KiCad 软件的用户包括许多不同语言的人。KiCad 软件提供了这些语言的翻译，但*库文件不提供翻译*。

库文件应使用英语编写，除非特定组件名称是非英语（对于非英语制造商）。

当拼写和语法存在潜在差异时，应优先使用美式英语。

- `Color`而不是`Colour`

#### [G1.5 应避免使用复数命名](https://klc.kicad.org/general/g1/g1.5.html)

一般情况下，应避免使用复数命名（例如图书馆），因为某些单词的复数形式不一致。应优先使用非复数名称：

- `Sensor_Temperature`而不是`Sensors_Temperature`
- `Memory_Flash`而不是`Memories_Flash`
- `TerminalBlock`而不是`TerminalBlocks`

#### [G1.6 大写约定](https://klc.kicad.org/general/g1/g1.6.html)

1. 首字母缩略词应大写
   - `MCU`（微控制器）
   - `FPGA`（现场可编程门阵列）
2. 制造商名称应根据制造商大写
   - `Microchip`
   - `ROHM`
   - `Texas`
   - `NEC`
3. 除非使用分隔符（如`_`、`-`、`.`）分隔，否则应使用驼峰大小写约定分隔单词，每个单词的第一个字母大写
   - `TestPoint`
   - `BatteryHolder`

#### [G1.7 库文件使用 Unix 样式的行尾](https://klc.kicad.org/general/g1/g1.7.html)

**库文件必须始终使用 Unix 样式的行尾提交到 GitLab。这意味着行使用LF**（换行符）字符终止，而不是 DOS 样式的**CR+LF**行尾。

KiCad 库文件必须与多种操作系统兼容，并且用户应该能够做出贡献，而不会通过不断更改行尾在文件中产生不必要的*噪音。*

在 Windows PC 上使用 KiCad 库时，库文件中的行尾可能会自动转换为**CR+LF**。 只要对库所做的任何贡献都遵守**LF**行尾要求，这就可以了。

这个问题的解决方式是要求所有 KiCad 库都包含一个[.gitattributes](https://git-scm.com/docs/gitattributes)文件。此文件可确保 Git 自动转换行尾。

确保足迹文件具有正确的行尾的简单 .gitattributes 文件示例如下：

```
*.kicad_mod text=auto
```

*注意：KiCad 库存储库应该已经有正确的 .gitattributes 文件来实现此目的*

#### [G1.8 对官方库的贡献必须使用当前稳定版本](https://klc.kicad.org/general/g1/g1.8.html)

必须在KiCad 的最新**稳定**版本中创建库资产的贡献。

这是为了避免因 KiCad 不同版本中资产存储方式的变化而导致的问题。（确定行顺序的方式、字符串转义方式等的变化）另一个原因是避免包含最新稳定版本不支持的功能。

#### [G1.9 尺寸单位](https://klc.kicad.org/general/g1/g1.9.html)

1. 指定尺寸时（例如在封装名称中），必须始终提供*单位：*
   - `3mm`- 毫米
   - `1in`- 英寸
2. 当指定面积或体积时，坐标顺序为`X-Y[-Z]`，相当于`width-height[-thickness]`。
3. 指定多维单位（例如`width`x `height`x `thickness`）时，单位只需附加一次
   - `3x4x7mm`3毫米 x 4毫米 x 7毫米
4. 适当时优先使用公制单位
5. 线性尺寸应以毫米为单位
6. 角度尺寸应以度为单位
7. 温度应以摄氏度为单位

------

### G2 - 通用且完全指定的符号

#### [G2.1 术语定义：通用和完整指定的符号](https://klc.kicad.org/general/g2/g2.1.html)

KiCad有两个工作流程涉及到符号表示的内容以及何时为其分配封装外形。它可以在库中完成，在这种情况下，符号代表一个确切的部分，或使用“分配封装”工具在最终设计中进行修改。

**通用符号**

通用符号可以与多个封装一起使用。它们*没有*分配默认封装。通用符号为设计工作流程提供了灵活性。对于此工作流程，通常选择放置在原理图中的符号以适合预期功能，而不是适合特定部件。当选择确切的部件编号时，封装分配稍后发生。使用通用符号允许少量库符号元素表示大量*可能*的组件组合。

通用符号的一个使用示例是KiCad 库中提供的**电阻器**和**电容器**符号。这些符号没有指定的默认封装，因为有*许多*可能的兼容封装。

[![G2.1a](https://klc.kicad.org/img/klc/G2.1a.png) ](https://klc.kicad.org/img/klc/G2.1a.png)[![G2.1b](https://klc.kicad.org/img/klc/G2.1b.png)](https://klc.kicad.org/img/klc/G2.1b.png)

**完全指定的符号**

完全指定的符号定义了匹配的封装，并根据`MPN`（制造商零件编号）命名。此类符号不依赖于用户稍后选择正确的封装，但可以使用封装过滤器定义替代封装，以便用户可以选择替代封装。

[![G2.1c](https://klc.kicad.org/img/klc/G2.1c.png)](https://klc.kicad.org/img/klc/G2.1c.png)

*完全指定的符号与专用于一个组件的封装一起称为原子部件。仅包含此类部件的库称为原子库。令人困惑的是，一些用户将完全指定的符号称为原子符号。*

**在哪里使用哪种类型**

官方库要求完全指定符号，除了少数仅包含通用符号的库。这些通用库是：

- `Device`
- 所有`Connector`图书馆
- 逻辑系列库如`74xx`，，`4xxx`...



------

### G3 - 特殊引脚编号

#### [G3.1 继电器](https://klc.kicad.org/general/g3/g3.1.html)

继电器的引脚编号遵循 EN 50005。

- 线圈触点应命名`A1`和`A2`。
  - 对于更复杂的继电器磁性元件，每个线圈引脚应有一个字母和一个数字。字母应描述引脚所属的线圈；数字应描述该线圈中的抽头编号。
  - 双稳态继电器的 A 线圈中的 A1 引脚应有电流流过`Set` ，并标有`S+`或`S-`。
  - `R+`双稳态继电器也应`R-`在`Reset`线圈或方向上贴上标签。
  - 在双稳态继电器中，标记电流流出的正方向应优于标记电流流向的负方向。如果无法标记正方向，例如电流始终从中心抽头流出的中心抽头继电器，则应标记负方向。
- 每个触头应有两位数字。第一位数字应为极组的索引号；第二位数字应描述功能。
  - 常闭 (NC) 触点应`x1`为`x2`
  - 常开 (NO) 触点应`x3`为`x4`
  - 转换触点应`x1`为公共触点、`x2`NC 触点和`x4`NO 触点

**NC 触点示例**

[![G3.1a](https://klc.kicad.org/img/klc/G3.1a.png)](https://klc.kicad.org/img/klc/G3.1a.png)

**无联系人示例**

[![G3.1b](https://klc.kicad.org/img/klc/G3.1b.png)](https://klc.kicad.org/img/klc/G3.1b.png)

**转换触点示例**

[![G3.1c](https://klc.kicad.org/img/klc/G3.1c.png)](https://klc.kicad.org/img/klc/G3.1c.png)

**多极点示例**

[![G3.1d](https://klc.kicad.org/img/klc/G3.1d.png)](https://klc.kicad.org/img/klc/G3.1d.png)

**双稳态继电器示例**

[![G3.1e](https://klc.kicad.org/img/klc/G3.1e.png)](https://klc.kicad.org/img/klc/G3.1e.png)

\---



## 符号指南

以下指南适用于原理图符号和符号库文件。

------

### S1——符号库

#### [S1.1 符号库应按功能分类](https://klc.kicad.org/symbol/s1/s1.1.html)

符号库名称必须根据以下优先级列表定义，每个元素用下划线 ( `_`) 字符分隔：

1. 功能（例如`Sensor`、`Amplifier`、`MCU`）
2. 子功能（例如`Temperature`）`CurrentSense`
3. 第三级限定词（例如`CMOS`）
4. 制造商名称（例如`Atmel`）`Infineon`
5. 符号系列名称（例如`PIC24`，`STM32`）
6. 额外的库描述符（例如`Deprecated`）

*注意：如果不需要，可以省略上面列出的某些元素。*

符号库名称示例：

- `Power_Monitor`- 电力监控元件
- `Sensor_Temperature`- 温度传感器
- `Driver_Motor`- 电机驱动器
- `MCU_Microchip_PIC32`- Microchip 的 PIC32 微控制器

------

### S2——符号命名

#### [S2.1 一般符号命名指南](https://klc.kicad.org/symbol/s2/s2.1.html)

1. 库命名不应在符号名称中重复
2. 如果多个制造商存在相同名称的符号，则首先写制造商名称
3. 完全指定的符号是根据制造商零件编号命名的
   1. 如果有多个制造商生产兼容部件，但用于指定封装的部件编号后缀不同，则使用通用基本部件编号，并为封装添加明确的名称后缀（例如`L78L05_TO92`）
   2. MPN 的非功能部分必须用通配符替换。（请参阅[MPN 中通配符的使用要求](https://klc.kicad.org/symbol/s2/s2.2)）
4. 通用符号使用设备类型
   1. 对于常见组件可以缩写（`Conn`例如`Connector`）
   2. 参考标记可用来替代常见组件（例如`D`、`C`、`LED`）
5. 指示符号阵列的元素数量（例如具有 8 个元素的电阻阵列 - `Resistor_x8`）
6. 对原符号的任何修改，请附上原因说明
   1. 不同的引脚顺序- `Q_NPN_CBE`，`Q_NPN_BCE`
   2. 对于通常单单位符号的多单位变体，请添加后缀`_Split`

#### [S2.2 零件编号中的非功能性变化应使用通配符替换](https://klc.kicad.org/symbol/s2/s2.2.html)

制造商零件编号 (MPN) 通常包含在原理图输入和 PCB 布局方面*不起作用的变体。*

被视为无功能的参数示例：

- 元件的温度额定值
- 封装信息（例如卷轴、托盘、胶带）
- RoHS / 无铅信息

*被视为功能性的*参数的例子是那些影响零件原理图或布局的参数：

- 电气变化 - 这些表明重要的不同特性（例如不同的电源电压）
- 封装选项 - 这些表示不同的封装尺寸和/或引脚排列

要捕捉零件变化的每一种可能组合将需要大量的派生符号，这是应该避免的。

1. 如果 MPN 具有此类非功能性变体的选项，则应使用通配符（小写`x`）替换 MPN 的这些部分。
   1. 如果 MPN 的这些非功能部分位于符号名称的末尾，则应省略通配符。
2. 功能变化应该在符号名称中捕获。
3. 如果部件只有一个功能变体，则无需应用通配符
   1. 例如：`TPS3430`只有一个变体：`TPS3430WDRCR`。因此名称应为`TPS3430WDRC`，而不是`TPS3430xDRC`。

#### [S2.3 当零件有多种封装选项时，必须为每个封装绘制一个单独的符号](https://klc.kicad.org/symbol/s2/s2.3.html)

许多电子元件采用多种封装形式。这些元件*可能引脚兼容，也可能不*兼容。

完全指定的符号要求每个封装都有一个单独的符号。如果它们是引脚兼容的，则必须使用**从现有符号**函数派生。KiCad 中的封装与其 3D 模型具有 1:1 的关系。这意味着，即使封装相同（例如，当 3D 模型高度不同时），如果 3D 模型具有功能差异，也需要多个封装。

例如**LTC4357**

[![S2.4a](https://klc.kicad.org/img/klc/S2.4a.png)](https://klc.kicad.org/img/klc/S2.4a.png)

此部件有两种不同的封装，每种封装都需要单独的封装。因此必须为每个变体绘制一个符号。

有关符号的命名，请参阅[通用符号命名指南](https://klc.kicad.org/symbol/s2/s2.1/)

[![S2.4b](https://klc.kicad.org/img/klc/S2.4b.png)](https://klc.kicad.org/img/klc/S2.4b.png)

在可能的情况下，应以能够在原理图中互换的方式绘制符号，同时尽量减少对线路连接的干扰。

作为另一个例子，我们将考虑比较器**MCP6566**，它有三个 SOT-23-5 版本，*每个版本都有不同的引脚排列*。

在这种情况下，必须再次为每个版本绘制单独的符号，并根据数据表中规定的约定命名。

[![2.4c](https://klc.kicad.org/img/klc/S2.4c.png)](https://klc.kicad.org/img/klc/S2.4c.png)

------

### S3——一般符号要求

#### [S3.1 原点位于符号中央](https://klc.kicad.org/symbol/s3/s3.1.html)

对于对称符号，符号必须位于符号编辑器中的原点 ( `0`, ) 中心。`0`

**例外：**

对于非对称符号，或根据此要求会将引脚移出`100mil`网格的符号，则应将符号放置在*尽可能靠近原点的位置，*同时遵守引脚网格对齐要求。

[![S3.1a](https://klc.kicad.org/img/klc/S3.1a.png)](https://klc.kicad.org/img/klc/S3.1a.png)

#### [S3.2 文本字段应使用 50mils 的常见文本大小](https://klc.kicad.org/symbol/s3/s3.2.html)

1. `50mil`所有文本字段（引脚名称、引脚编号、值、参考、封装、数据表）应使用( )的文本大小`1.27mm`。
2. 如果符号较小或具有特殊的几何形状，引脚名称和引脚编号可以使用小至 20mil 的文本大小。

#### [S3.3 符号轮廓和填充要求](https://klc.kicad.org/symbol/s3/s3.3.html)

1. 符号主体的线宽必须为`10mil`（`0.254mm`）
2. 黑框符号（例如具有隐藏功能的 IC）应填充背景色
3. 简单组件（例如，离散组件或具有*独特形状的*组件）不应填充背景颜色

**填充背景**

[![S3.3a](https://klc.kicad.org/img/klc/S3.3a.png)](https://klc.kicad.org/img/klc/S3.3a.png)

**不填**

[![S3.3b](https://klc.kicad.org/img/klc/S3.3b.png)](https://klc.kicad.org/img/klc/S3.3b.png)

#### [S3.4 具有复杂功能的符号可以包含简单的功能图](https://klc.kicad.org/symbol/s3/s3.4.html)

对于具有复杂功能的*黑框*符号（例如特殊功能 IC），可以在符号上绘制符号功能的简化图。这可用于在原理图中提供功能清晰度。

1. 功能绘图必须保持*简单*
2. 不要添加多功能组件（例如微控制器）的功能图

[![S3.4a](https://klc.kicad.org/img/klc/S3.4a.png)](https://klc.kicad.org/img/klc/S3.4a.png)

#### [S3.5 引脚连接点必须置于符号之外](https://klc.kicad.org/symbol/s3/s3.5.html)

符号针脚的连接点必须位于符号主体外部，并且不需要连接线穿过符号。

**错误符号示例：**

[![S3.5a](https://klc.kicad.org/img/klc/S3.5a.png)](https://klc.kicad.org/img/klc/S3.5a.png)

**正确符号示例：**

[![S3.5b](https://klc.kicad.org/img/klc/S3.5b.png)](https://klc.kicad.org/img/klc/S3.5b.png)

#### [S3.6 引脚名称位置偏移](https://klc.kicad.org/symbol/s3/s3.6.html)

1. 引脚名称位置偏移不得超过`50mil`（`1.27mm`）
2. 引脚名称位置偏移量不应设置为小于`20mil`（`0.508mm`）
3. 首选值为`20mil`
4. 允许更大的偏移以适应特定的符号几何形状

**例子：**

[![S3.6a](https://klc.kicad.org/img/klc/S3.6a.png)](https://klc.kicad.org/img/klc/S3.6a.png)

[![S3.6b](https://klc.kicad.org/img/klc/S3.6b.png)](https://klc.kicad.org/img/klc/S3.6b.png)

#### [S3.7 专用焊盘的引脚编号](https://klc.kicad.org/symbol/s3/s3.7.html)

对于具有裸露焊盘的 IC 元件，裸露焊盘的编号应比封装的引脚数大一。

对于具有单个裸露焊盘的 SOIC-8 封装，裸露焊盘将被分配编号`9`

------

屏蔽元件使用“SH”作为连接屏蔽层的引脚编号。要使引脚符合屏蔽引脚的条件，必须将其连接到金属外壳。对于连接器，它必须连接到电缆的屏蔽层。

包含机械安装垫但不用于电气用途的部件的引脚编号为“MP”。非镀通孔不分配任何焊盘编号。（它们在符号中没有引脚。）这种纯机械安装垫的一个例子是 Molex picoblade smd 连接器侧面的两个金属引线的焊盘。

#### [S3.8 多单位符号](https://klc.kicad.org/symbol/s3/s3.8.html)

1. 对于单独绘制的多个单元的符号，如果这些单元共用电源引脚，则应绘制一个包含这些电源引脚的单独单元。

[![S3.8a](https://klc.kicad.org/img/klc/S3.8a.png)](https://klc.kicad.org/img/klc/S3.8a.png)

*这种方法不适用于单元符号。在这种情况下，电源引脚必须与逻辑引脚绘制在同一个符号上。*

#### [S3.9 德摩根表示](https://klc.kicad.org/symbol/s3/s3.9.html)

符号不应具有替代的主体样式。`De Morgan representation`不应使用该功能。

------

### S4 - 引脚要求

#### [S4.1 一般引脚要求](https://klc.kicad.org/symbol/s4/s4.1.html)

1. 使用`100mil`（`2.54mm`）网格，引脚原点必须位于网格节点上（IEC-60617）
2. 引脚长度至少应为`100mil`（`2.54mm`）
   - `50mil`引脚长度可以按( `1.27mm`)的步长增加
   - 密码中的字符数决定了密码的长度。当密码中有两个字符时，应使用`100mil`( ) 长密码；当密码中有三个字符时，应使用( ) 长密码，等等。`2.54mm` `150mil` `3.81mm`
   - 引脚长度不得超过`300mil`( `7.62mm`)
   - 电阻器、电容器等分立器件的简单符号上允许使用较短的引脚。
   - 符号上的所有引脚必须具有相同的长度
3. 密码必须是唯一的（任何两个密码不得相同）

#### [S4.2 引脚应按功能分组](https://klc.kicad.org/symbol/s4/s4.2.html)

尽可能按类似功能对引脚进行分组，而不是按其在相关封装上的物理位置进行分组。这样可以提供更清晰的原理图布线，并且原理图中的符号也更易于理解。

1. **具有相似功能的**引脚应该分组在一起：
   - `SPI_MISO`，`SPI_MOSI`，`SPI_CS`，`SPI_CLK`
   - `UART_TX`，`UART_RX`
2. **端口**应从上到下排序
3. **正电源**引脚应放置在符号的*顶部*
   - `Vcc`，`Vdd`，`Vin`，`V+`， ETC。
4. **负电源**和**接地**引脚应放置在符号的*底部*
   - `GND`，`Vss`，`V-`， ETC。
   - **例外**用于电源转换且同时具有电源输入和输出的设备应在左侧有电源输入引脚，在右侧有电源输出引脚。
5. **输入/控制/逻辑**引脚应放置在符号的*左侧*
   - `UART Tx/Rx`
6. **输出/控制/驱动**引脚应放置在符号的*右侧*
   - `RS232 Tx/Rx`

[![S4.2a](https://klc.kicad.org/img/klc/S4.2a.png)](https://klc.kicad.org/img/klc/S4.2a.png)

[![S4.2b](https://klc.kicad.org/img/klc/S4.2b.png)](https://klc.kicad.org/img/klc/S4.2b.png)

#### [S4.3 引脚堆叠规则](https://klc.kicad.org/symbol/s4/s4.3.html)

许多符号具有相应的封装，其中多个物理引脚连接到单个逻辑网络。在这种情况下，最好用户只需连接原理图中的单个引脚，它就会自动路由到 PCB 上的所有物理引脚。（这样做不仅是为了减少原理图中的混乱。主要原因是将正确连接的部分责任从电路设计师转移到库上。）

KiCad 目前没有原生方法来指定特定符号引脚映射到多个封装引脚。以下指南可作为设计此类符号的解决方法。

在原理图视图中，KiCad 布线算法认为共享相同位置的引脚是*连接的*。因此，只有在非常特殊的情况下才能将引脚放置在相同的位置：

1. 引脚不得**为**此类`No Connect`（这些引脚绝不能连接在一起）
2. 电源引脚必须堆叠，除非数据表指定每个引脚都需要去耦电容。
3. 引脚在符号中按逻辑连接
4. 引脚必须具有相同的名称
5. 引脚必须具有相同的电气类型
6. 堆栈中的一个引脚必须*可见*（所有其他引脚均设置为*不可见*）

**特殊情况：**电气类型 [ `Output`, `Power Output`, `Power Input`] 的引脚属于特殊情况。

1. 连接`Output`或`Power Output`引脚会导致 ERC 错误。因此，始终需要连接在一起的输出引脚必须堆叠。`passive`在这种情况下，不可见的引脚将获得引脚类型。
2. 不可见`Power Input`引脚是全局标签。应避免这种情况。因此，`passive`此类堆栈中的不可见引脚应使用电气类型。

#### [S4.4 引脚电气类型](https://klc.kicad.org/symbol/s4/s4.4.html)

引脚`Electrical type`设置应匹配相应的引脚功能

1. 电源和接地引脚应设置`Power Input`为`Power Output`
2. 逻辑引脚应根据数据表要求设置
3. 具有可编程功能的引脚（例如 MCU I/O 端口）应设置为`Bidirectional`
4. 引脚不得“双重反转”，即不能指定反转图形符号，也不能在引脚名称上方加一条横线

[![S4.4a](https://klc.kicad.org/img/klc/S4.4a.png)](https://klc.kicad.org/img/klc/S4.4a.png)

#### [S4.5 封装上未连接的引脚可以从符号中省略](https://klc.kicad.org/symbol/s4/s4.5.html)

组件通常具有未物理连接的引脚。即使这些引脚也应包含在符号中。请参阅[隐藏引脚的要求](https://klc.kicad.org/symbol/s4/s4.6)。

然而在某些情况下，原理图符号中可能会省略未连接的引脚。

1. 只有在绝对不需要连接的*情况下才可以省略引脚*
2. 仅当包含未连接的引脚会使符号变得过大时，才可以省略未连接的引脚。
3. 如果指定了引脚`NC`，但数据表规定这些引脚必须接地或以其他方式连接到特定网络，则**必须**在原理图符号上显示这些引脚
4. 如果符号省略了引脚，则封装过滤器必须包含封装的焊盘数（另请参阅[封装过滤器的要求](https://klc.kicad.org/symbol/s5/s5.2)）
   - `BGA?144`
   - `QFN?20`

#### [S4.6 隐藏引脚](https://klc.kicad.org/symbol/s4/s4.6.html)

原理图符号通常不允许隐藏符号引脚。任何连接点都必须可见，否则可能会发生意外的网络连接。

**例外**

1. 电源输入引脚不得隐藏，除非用于电源符号（隐藏的电源输入引脚是全局标签）。请参阅[引脚堆叠要求](https://klc.kicad.org/symbol/s4/s4.3)
2. 不打算连接的引脚必须设置为不可见。在这种情况下，电气类型必须是`Not Connected`。引脚的末端应位于符号轮廓内或轮廓上，以防止与不可见引脚进行不必要的连接（见下面的屏幕截图）。
   - 如果预计在大量使用情况下引脚会连接，则可能会显示指定为未连接的引脚。（例如：数据表建议将它们接地或连接到其他电位以获得更好的 EMC 性能。）
3. 隐形引脚可用于引脚堆栈，以实现一对多连接。请参阅[引脚堆栈的要求](https://klc.kicad.org/symbol/s4/s4.3)

[![S4.6](https://klc.kicad.org/img/klc/S4.6.png)](https://klc.kicad.org/img/klc/S4.6.png)

#### [S4.7 低电平有效引脚应使用符号名称上方的横线来指定](https://klc.kicad.org/symbol/s4/s4.7.html)

不应选择*有效低*图形引脚样式，而应使用引脚名称上方的条来指定有效低引脚。

这使得原理图看起来更加清晰。

要在引脚文本上方放置一条线，请在名称周围添加花括号 {}，并在前缀中添加 ( `~`) 字符。如果引脚名称只有一部分处于低电平有效状态，则不需要全部在上方添加横线，例如`\~{SPD_LED}/GPIO2`。

如果制造商提供的引脚名称包含低电平有效前缀或后缀，则应在添加上方的横线时将其删除，以避免两次否定。例如，对于`nRESET`，使用`~{RESET}`。

------

### S5——足迹协会

#### [S5.1 具有默认封装的符号链接到有效的封装文件](https://klc.kicad.org/symbol/s5/s5.1.html)

1. 对于*原子*符号（具有相关默认足迹的符号），**足迹**字段必须填充格式的有效条目`:`。
2. 对于*通用*符号（映射到多个可能的封装的符号），**封装**字段必须留空

[![S5.1a](https://klc.kicad.org/img/klc/S5.1a.png)](https://klc.kicad.org/img/klc/S5.1a.png)

#### [S5.2 足迹过滤器必须与所有适当的足迹相匹配。它们的设计应不会导致错误建议。](https://klc.kicad.org/symbol/s5/s5.2.html)

封装过滤器用于帮助将适当的封装与给定符号匹配。即使对于*完全指定的*符号（只有一个匹配封装的符号），这一点也很重要，因为仍然可能存在具有不同变体或选项的多个兼容封装（例如`_HandSoldering`，，`_Heatsink`）`_ThermalVias`。

足迹过滤器使用通配符模式匹配，并允许使用以下通配符：

- `*`- 匹配零个或多个字符
- `?`- 匹配零个或一个字符

库名称可用作过滤标准。库和封装过滤之间的分隔符是`:`

过滤约定：

1. 过滤器必须以`*`通配符结尾，以允许匹配修改后的封装后缀
2. 过滤器必须与维度信息（如有需要）匹配，以尽可能具体：
   - `DIP*W7.62mm*`匹配`DIP-22_W7.62mm`但不匹配`DIP-22_W9.3mm`
   - 面罩切口的尺寸不包含在过滤器中。
   - 如果有必要区分其他模糊的封装，则过滤器中会包含裸露/导热垫尺寸。
3. 如果符号中的引脚数与封装中的引脚数匹配，则过滤器不得包含引脚数。在这些情况下，封装由 KiCad 的引脚数过滤器匹配。如果符号中并非所有引脚都存在（例如 NC 引脚），则引脚数必须是封装过滤器的一部分（请参阅[NC 引脚的要求](https://klc.kicad.org/symbol/s4/s4.5)）。然后可以使用 eg`SOT?23?5`而不是简单地`SOT?23*`匹配`SOT-23-5`。
   - 始终包含特殊引脚说明符。这意味着，如果符号使用这些引脚，则必须包含裸露焊盘`EP`、安装焊盘`MP`和屏蔽的说明符（包括它们的数量）。（QFN-16-1EP_3x3mm_P0.5mm_EP1.8x1.8mm 的过滤器将是）`SH``QFN*1EP*3x3mm*P0.5mm*`
4. 默认情况下，封装搜索不*包括*封装库的名称。要强制包含库名称，请将`:`（冒号）字符添加到过滤器。出现在 之前的文本`:`将与库名称匹配。出现在 之后的文本`:`将与封装名称匹配。
   - `Connector*:*Pitch?1.25mm*`将匹配间距为“1.25mm”的任何封装，仅限于以文本“Connector”开头的库
5. 将字符`-`和`_`替换为 以进行转义`?`。
   - `SOT?23`将匹配`SOT-23`和`SOT_23`。这为匹配封装命名提供了更大的灵活性。

**可以在符号属性窗口的封装过滤器**选项卡中设置封装过滤器。

[![S5.2a](https://klc.kicad.org/img/klc/S5.2a.png)](https://klc.kicad.org/img/klc/S5.2a.png)

------

### S6——符号元数据

#### [S6.1 组件参考指示器 (RefDes)](https://klc.kicad.org/symbol/s6/s6.1.html)

*必须根据特定类型*的符号适当填写符号参考标识符。

下表提供了适当的 RefDes 值列表。如果您找不到合适的组件条目，请咨询 KiCad 库团队。

| Designator | Component Type                                               |
| :--------- | :----------------------------------------------------------- |
| A          | Sub-assembly or plug-in module，子组件或插入式模块           |
| AE         | Antenna，天线                                                |
| BT         | Battery，电池                                                |
| C          | Capacitor                                                    |
| D          | Diode                                                        |
| DS         | Display                                                      |
| F          | Fuse                                                         |
| FB         | Ferrite bead，铁氧体磁珠                                     |
| FD         | Fiducial，对位器                                             |
| FL         | Filter                                                       |
| H          | Hardware (mounting screws, etc)，硬件（安装螺钉等）          |
| J          | Jack, fixed part of a connector pair，插孔，连接器的固定部分 |
| JP         | Jumper / link，跳线/链路                                     |
| K          | Relay，中继器                                                |
| L          | Inductor, coil, ferrite bead，                               |
| LS         | Loudspeaker or buzzer，扩音器或蜂鸣器                        |
| M          | Motor                                                        |
| MK         | Microphone                                                   |
| P          | Plug, movable part of a connector pair，插头，连接器对的活动部分 |
| Q          | Transistor                                                   |
| R          | Resistor                                                     |
| RN         | Resistor network                                             |
| RT         | Thermistor，热敏电阻                                         |
| RV         | Varistor，变阻器                                             |
| SW         | Switch                                                       |
| T          | Transformer                                                  |
| TC         | Thermocouple，热电偶                                         |
| TP         | Test point                                                   |
| U          | Integrated circuit (IC)                                      |
| Y          | Crystal / oscillator                                         |
| Z          | Zener diode                                                  |

#### [S6.2 按要求填写符号字段和元数据](https://klc.kicad.org/symbol/s6/s6.2.html)

1. **参考（Reference）**字段已针对符号进行了适当选择并且*可见*
2. **值（Value）**字段包含符号的名称并且*可见*
3. **足迹（Footprint）**字段包含完全指定符号的足迹链接，并且必须*不可见*
   1. 对于通用符号，封装字段必须为空
4. **数据表（Datasheet）**条目已填写，且不*可见*
   1. 对于通用符号，数据表字段应为波浪符号 ( `~`)
5. 该符号不包含其他自定义字段

通过另外两个字段提供附加文档：

1. **描述（Description）**字段包含以逗号分隔的设备信息
   1. 对于具有默认封装的符号，应将简化的封装名称附加到描述中，例如`SOIC-8`
   2. 零件名称不应在描述字段中重复
2. **关键字（Keywords）**字段包含空格分隔的关键字值。这些值用于协助搜索零件，应选择这些值以协助最终用户找到合适的零件
   1. 关键字应该包含单词的典型别名，**例如：**描述包含`Operational amplifier`⇒关键字应该包含`opamp`。
   2. 关键词不应包含填充词。**例如** `positive negative`，`positive and negative`
   3. 任何已在描述字段中出现的单词都不应包含在关键字字段中。**示例：**描述 = `50mA Low-Dropout voltage regulator, QFN-16`⇒ 关键字可以包括`LDO`但不能`regulator`或`QFN`
   4. 如果关键词中使用了短语（多个属于同一类的单词），则不能用空格分隔，而必须用破折号分隔。例如**：** `voltage-regulator` `voltage regulator`
   5. 关键字或描述字段中其他单词的前缀词不应出现在关键字中。**示例：**描述 = `FPGA with Brown-Out detection, QFN-16`⇒ 关键字可以包含`brownout`但不能包含`brown`

[![符号元数据](https://klc.kicad.org/img/klc/symbol_metadata.png)](https://klc.kicad.org/img/klc/symbol_metadata.png)

------

### S7 - 特殊符号

#### [S7.1 电源符号](https://klc.kicad.org/symbol/s7/s7.1.html)

电源符号是 KiCad 中的特殊符号，用于指定电源连接的全局网络。

1. 参考指示器必须设置为`#PWR`
2. 电源符号必须只包含一个引脚，设置为**不可见**
3. 电气引脚类型必须设置为`Power Input`
4. 引脚名称必须与符号名称匹配
5. `Define as power symbol`必须选中复选框

下面的示例图演示了上面列出的要求：

[![S7.1_a](https://klc.kicad.org/img/klc/S7.1_a.png)](https://klc.kicad.org/img/klc/S7.1_a.png)

#### [S7.2 图形符号](https://klc.kicad.org/symbol/s7/s7.2.html)

图形符号仅用于注释原理图，与PCB 上的封装无关**。**

1. 参考指示器必须设置为`#SYM`且必须**不可见**
2. 符号名称必须设置为*不可见*
3. 图形符号不得包含任何引脚
4. 无引脚或封装关联
5. 无足迹过滤器
6. 选项`exclude from BOM`，`exclude from board`必须选中

**例子：**

[![S7.2_a](https://klc.kicad.org/img/klc/S7.2_a.png)](https://klc.kicad.org/img/klc/S7.2_a.png)

------

## 足迹指南

以下指南适用于 PCB 封装和封装库。

------

### F1——封装库

#### [F1.1 封装库按功能分类](https://klc.kicad.org/footprint/f1/f1.1.html)

`.pretty`根据封装的主要功能，封装被分组到库（带扩展名的目录）中。作为此功能的扩展，封装库应根据相同的功能进行命名。

库名称必须根据以下优先级列表定义，每个元素用下划线 ( `_`) 字符分隔：

1. 功能（例如`Conn`）`Capacitor`
2. 子功能（例如`HDMI`）`USB`
3. 第三级限定词（例如`RightAngle`）`SMD`
4. 制造商名称（例如`Texas`）`Microchip`
5. 封装系列名称（例如`MicroFit`）
6. 根据需要添加额外的库描述符

*注意：如果不需要，可以省略上面列出的某些元素。*

封装库名称示例：

- `Conn_USB_SMD`- 表面贴装 USB 连接器
- `Conn_Molex_MicroFit`- Molex MicroFit 系列矩形连接器
- `Capacitor_Tantalum_SMD`- 表面贴装钽电容器

#### [F1.2 连接器封装库](https://klc.kicad.org/footprint/f1/f1.2.html)

*根据功能对*连接器进行分类可能会很困难，因为许多连接器可用于各种各样的应用。

因此，对连接器封装的分类给予了特别考虑，如下所述：

1. *连接器首先根据其主要功能*（如果存在这样的功能）进行分组。*主要功能*的示例包括：
   - `Conn_USB`
   - `Conn_HDMI`
   - `Conn_Ethernet`

1. 当主功能库变得太大时，可以按子功能或制造商进行拆分
   - `Conn_USB_Molex`
   - `Conn_DSUB_HighDensity`
2. *对于没有特定功能的连接器，则连接器按其机械类型*分组：
   - `Conn_Barrel`
   - `Conn_DIN`
   - `Conn_DSUB`
   - `Conn_PinHeader`
   - `Conn_PinSocket`
   - `Conn_Rectangular`
3. 连接器库可以通过另一个限定符进一步拆分：
   - `Conn_PinHeader_2.54mm`
   - `Conn_PinHeader_1.27mm`
4. 连接器库还可以按制造商和系列进行拆分，*以用于多用途连接器*
   - `TerminalBlock_Phoenix_MKDS`
   - `TerminalBlock_Phoenix_PT`
   - `TerminalBlock_Wago`
   - `Conn_JST`
   - `Conn_Hirose_DF13`

------

### F2 - 通用封装命名指南

#### [F2.1 通用封装命名约定](https://klc.kicad.org/footprint/f2/f2.1.html)

每个封装都是一个`.kicad_mod`文件（存储在`.pretty`目录中）。给定封装的命名约定很大程度上取决于封装的*类型*，但下面提供了一般指南：

1. 首先写出具体的封装类型，例如
   - `QFN`- 四方扁平无引线封装
   - `C`- 电容器
2. 封装名称和引脚数用连字符分隔
   - `TO-90`
   - `QFN-48`
   - `DIP-20`
3. 具有特殊焊盘的封装在引脚数字段中添加标识符，用连字符分隔
   - 该字段包括此类型的唯一编号垫的数量。
     - 对于裸露焊盘（部件下方的大铜垫）`[count]EP`
     - 对于屏蔽垫`[count]SH`（除非该部件已经预期有这样的引脚。例如 HDMI 连接器。）
     - 用于连接纯机械安装引线的焊盘`[count]MP`
   - 来自图书馆的例子。
     - `DFN-6-1EP_2x2mm_P0.5mm_EP0.61x1.42mm`
     - `Samtec_LSHM-110-xx.x-x-DV-S_2x10-1SH_P0.50mm_Vertical`
     - `Molex_PicoBlade_53261-0271_1x02-1MP_P1.25mm_Horizontal`
4. 封装名称中的唯一*字段*（参数）用字符分隔`_`。
5. 封装尺寸指定为`length`x `width`（以及可选的`height`）
   - `3.5x3.5x0.2mm`
   - `1x1in`
   - 如果出于清晰考虑，封装体尺寸可以在前面加上前缀`B`
6. 引脚布局
   - `1x10`
   - `2x15`
7. 间距通过以下方式指定`P`：
   - `P1.27mm`1.27毫米间距
   - `P5.0mm`5.0毫米间距
8. 标准封装值的修饰符
   - `Drill 1.25mm`
   - `Pad 2.4x5.2mm`
9. 方向例如`Horizontal`，`Vertical`
10. 对原始足迹的任何修改，通过附加原因来表明
    - `_HandSoldering`
    - `_ThermalVias`
    - `_CircularHoles`

对于特定封装，并非上述定义的所有字段都是必需的。还可根据需要添加其他字段。

#### [F2.2 封装命名字段前缀](https://klc.kicad.org/footprint/f2/f2.2.html)

封装名称必须传达大量信息，以明确指定封装的用途和参数。封装名称中的某些字段对于许多封装而言是*通用的*，可以使用特殊缩写来缩短。

并非所有足迹都需要使用这些缩写 - 它们作为标准化遇到足迹参数时调用方式的一种方法。

在许多情况下，封装外形的主要尺寸（x/y/z）可以在没有前缀的情况下指定，因为主体尺寸被假定为在封装外形名称中具有最高的优先级。因此，下面示例名称中的“3.2x5.7mm”部分不需要“B”前缀，不需要写成“B3.2x5.7mm”。

例如`SOIC-8_3.2x5.7mm_P1.27mm`

然而，如果存在潜在冲突，则必须使用前缀明确命名主体尺寸`B`。

请参阅下表以了解可接受的前缀缩写。

| Prefix | Field Description         | Notes                                                        |
| :----- | :------------------------ | :----------------------------------------------------------- |
| B      | Body dimensions，封装尺寸 | Body size (`X`x`Y`x`Z`)Height parameter `Z` may be omittedPrefix `B` may be omitted if the body size is the major dimension used to define the footprint |
| D      | Diameter                  | Diameter of major axis for cylindrical componente.g. `D10mm` - 10mm diameter |
| H      | Height                    | Height of component measured from PCBBody size `B` should be used in preference, where possiblee.g. `H1.1mm` - component measures 1.1mm above PCB |
| L      | Length                    | Length along major axis of componentBody size `B` should be used in preference, where possiblee.g. `L15.3mm` - 15mm length |
| O      | Offset                    | Offset, where no other name is more appropriateFor example, the distance between pads and the body. Affects silkscreen diagram.e.g. `O3.81mm` - 3.81mm from pads to body. 焊盘和主体之间的距离。影响丝网印刷。 |
| W      | Width                     | Width along minor axis of componentBody size `B` should be used in preference, where possiblee.g. `W4.75mm` - 4.75mm width |
| EP     | Exposed pad dimensions    | Packages that include a single exposed pad include the size of this pad. e.g. `EP2.4x3.6mm` - for a single 2.4mm x 3.6mm pad. |
| P      | Pad pitch                 | Pitch (distance) between pins, pads or leadse.g. `P0.63mm` - 0.63mm pitch between pads |
| T      | Thickness                 | Component thickness, where appropriate                       |

**例子：**

- `LQFP-32_4x4x1.1mm_P1.65mm`- LQFP 封装，32 针，4x4mm 主体，1.1mm 高度，1.65mm 间距
- `CP_Radial_D4.5mm_P2.5mm_H10mm`- 径向极化电容器，直径 4.5 毫米，间距 2.5 毫米，高度 10 毫米

如果上表中未找到该参数，则应完整输入该参数的名称。

以下是封装命名中使用的（非缩写）参数名称的示例列表

| Prefix    | Field Description                                            |
| :-------- | :----------------------------------------------------------- |
| Ball      | BGA Ball diameter，BGA焊球直径                               |
| Clearance | Clearance between pin rows，阵列引脚间距                     |
| Drill     | Drill diameter                                               |
| Layout    | Specific footprint layout e.g. `Layout3x7` for a BGA with 21 balls arranged in 3 columns and 7 rows |
| Lead      | Lead dimensions，电极导线尺寸                                |
| Mask      | Custom soldermask dimensions，自定义阻焊层尺寸               |
| Pad       | Custom pad dimensions，自定义焊盘尺寸                        |
| Tab       | Tab dimensions，标签尺寸                                     |

#### [F2.3 通用封装的制造商特定版本](https://klc.kicad.org/footprint/f2/f2.3.html)

如果制造商封装与可用的“标准”封装有偏差，则应将其添加到库中并指定为制造商特定的。

1. 如果某个封装特定于单个制造商，则必须通过在封装名称前面添加制造商名称和 MPN 来表明这一点。
   - `Texas_S-PVQFN-N48_`

1. 有时元件数据表会有不符合 KLC 要求的特定要求。一个常见的例子是对模板（焊膏层）形状的特定要求。

在这种情况下，KLC 要求可以被数据表要求取代，由 KiCad 库团队自行决定。

#### [F2.4 非标准引脚编号的封装命名](https://klc.kicad.org/footprint/f2/f2.4.html)

一般来说，足迹应该包括以下格式的字段`-`，例如

- `SOIC-8`
- `QFN-24`

在大多数情况下，引脚数量是不言自明的，足以描述符号上的引脚数量。

但是，有时这种编号可能不够。当封装引脚数与封装引脚数不匹配时，必须做出例外。

**例外：省略的引脚、缺失的引脚号将被跳过**

*例如：LTC3638*

LTC3638 采用`MSOP-16`缺少四个引脚的封装，以增强电压隔离。

[![F2.4a](https://klc.kicad.org/img/klc/F2.4a.png)](https://klc.kicad.org/img/klc/F2.4a.png)

**在这种情况下，将跳过**缺失引脚的编号，并将正常引脚编号分配给剩余引脚。

为了表明这一点，足迹应按以下方式命名：

`PKG--`在哪里：

- `xx`= 剩余引脚数
- `yy`= 剩余引脚数 + 移除引脚数

在上述 LTC3638 示例中，这将导致：

```
MSOP-12-16
```

足迹垫应按如下方式编号：

[![F2.4_msop_12-16](https://klc.kicad.org/img/klc/F2.4_msop_12-16.png)](https://klc.kicad.org/img/klc/F2.4_msop_12-16.png)

#### [F2.5 特定组件的封装命名约定](https://klc.kicad.org/footprint/f2/f2.5.html)

足迹命名非常复杂，一般规则不足以完全定义适合广泛足迹的命名方案。

除了[KLC 2.1中定义的通用封装命名指南之外， ](https://klc.kicad.org/footprint/f2/f2.1/)[KLC F3.x](https://klc.kicad.org/footprint/f3)中还提供了一组针对特定封装类型的封装命名指南。

------

### F3 - 特定封装命名指南

#### [F3.1 SMD贴片封装命名规范](https://klc.kicad.org/footprint/f3/f3.1.html)

以下封装命名约定应作为命名 SMD 芯片封装封装的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

[*前缀*] _[*英制尺寸*] _[*公制尺寸*]**公制**_[*修饰符*] _[*选项*]

- **前缀**- 设备类型
- **英制尺寸**- 英制表壳尺寸（可选）
- **公制尺寸**- 公制表壳尺寸（可选）
- **修饰符**- 如果非标准，则修饰符用于足迹（可选）
- **选项**- 额外占用空间选项（可选）

例子：

LED_0805_2012Metric_ReverseMount

笔记：

前缀由设备的默认参考指示符决定，例如

- 电容器 =`C`
- 电容器（极化）=`CP`
- 电阻器 =`R`
- 二极管 =`D`

机壳尺寸代码：

| 帝国法典 | 公制代码 | 英制尺寸                  | 尺寸公制             |
| :------- | :------- | :------------------------ | :------------------- |
| 01005    | 0402     | 0.0157 英寸 × 0.0079 英寸 | 0.4 毫米 × 0.2 毫米  |
| 0201     | 0603     | 0.024 英寸 × 0.012 英寸   | 0.6 毫米 × 0.3 毫米  |
| 0402     | 1005     | 0.039 英寸 × 0.020 英寸   | 1.0 毫米 × 0.5 毫米  |
| 0603     | 1608     | 0.063 英寸 × 0.031 英寸   | 1.6 毫米 × 0.8 毫米  |
| 0805     | 2012     | 0.079 英寸 × 0.049 英寸   | 2.0 毫米 × 1.25 毫米 |
| 1008     | 2520     | 0.098 英寸 × 0.079 英寸   | 2.5 毫米 × 2.0 毫米  |
| 1206     | 3216     | 0.126 英寸 × 0.063 英寸   | 3.2 毫米 × 1.6 毫米  |
| 1210     | 3225     | 0.126 英寸 × 0.098 英寸   | 3.2 毫米 × 2.5 毫米  |
| 1806     | 4516     | 0.177 英寸 × 0.063 英寸   | 4.5 毫米 × 1.6 毫米  |
| 1812     | 4532     | 0.18 英寸 × 0.13 英寸     | 4.5 毫米 × 3.2 毫米  |
| 1825     | 4564     | 0.18 英寸 × 0.25 英寸     | 4.5 毫米 × 6.4 毫米  |
| 2010     | 5025     | 0.197 英寸 × 0.098 英寸   | 5.0 毫米 × 2.5 毫米  |
| 2512     | 6332     | 0.25 英寸 × 0.13 英寸     | 6.3 毫米 × 3.2 毫米  |
| 2920     | 7451     | 0.29 英寸 × 0.20 英寸     | 7.4 毫米 × 5.1 毫米  |

#### [F3.2 电阻命名约定](https://klc.kicad.org/footprint/f3/f3.2.html)

以下封装命名约定应作为电阻封装命名的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## 轴向电阻器

**R_轴向**_ **L** [*长度*] _ **D** [*直径*] _ **P** [*间距*] _[*修饰符*] _[*方向*] _[*选项*]

- **长度**- 电阻体长度
- **直径**- 主体直径
- **间距**- 引线间距
- **修饰符**- 封装规格的修饰符（可选）
- **方向**- 电阻方向（垂直/水平）（可选）
- **选项**- 额外占用空间选项（可选）

例子：

R_轴向_长3.6毫米_深1.6毫米_P2.54毫米_垂直

#### [F3.3 电容器命名约定](https://klc.kicad.org/footprint/f3/f3.3.html)

以下封装命名约定应作为电容器封装命名的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## SMD贴片电容

[ *C/CP* ] _[*英制尺寸*] _[*公制尺寸*]**公制**_[*修饰符*] _[*选项*]

- **C/CP** - 电容器类型（极化或非极化）
- **英制尺寸**- 英制表壳尺寸（可选）
- **公制尺寸**- 公制表壳尺寸（可选）
- **修饰符**- 非标准的足迹修饰符（可选）
- **选项**- 足迹选项（可选）

例子：

C_0805_2012公制

笔记：

1. 必须指定至少一个表壳尺寸（英制或公制）
2. 公制表壳尺寸必须带有后缀`Metric`

## 贴片钽电容

**CP_Tantalum** _ **EIA-** [*公制尺寸*] _[*尺寸代码*] _[*修饰符*] _[*选项*]

- **公制尺寸**- EIA 公制尺寸代码
- **尺寸代码**- 包括命名标准的字母尺寸代码 ([标准]-[字母])
- **修饰符**- 非标准的足迹修饰符（可选）
- **选项**- 足迹选项（可选）

例子：

CP_钽_EIA-3126-18_Kemet-A_Pad1.53x1.40mm_手工焊接

| EIA 公制尺寸 | 车身尺寸（XxYxZ）      | 基美代码 | AVX 代码 |
| :----------- | :--------------------- | :------- | :------- |
| 1608-08      | 1.6 x 0.8 x 0.8 毫米   | —        | J        |
| 1608-10      | 1.6 x 0.85 x 1.05 毫米 | —        | 大号     |
| 2012-12      | 2.05 x 1.35 x 1.2 毫米 | R        | R        |
| 2012-15      | 2.05 x 1.35 x 1.5 毫米 | —        | 磷       |
| 3216-10      | 3.2 x 1.6 x 1.0 毫米   | 我       | 钾       |
| 3216-12      | 3.2 x 1.6 x 1.2 毫米   | 年代     | 年代     |
| 3216-18      | 3.2 x 1.6 x 1.8 毫米   | 一个     | 一个     |
| 3528-12      | 3.5 x 2.8 x 1.2 毫米   | 电视     | 电视     |
| 3528-15      | 3.5 x 2.8 x 1.5 毫米   | —        | 赫       |
| 3528-21      | 3.5 x 2.8 x 2.1 毫米   | 乙       | 乙       |
| 6032-15      | 6.0 x 3.2 x 1.5 毫米   | 乌       | 西       |
| 6032-20      | 6.0 x 3.2 x 2.0 毫米   | —        | F        |
| 6032-28      | 6.0 x 3.2 x 2.8 毫米   | 碳       | 碳       |
| 7343-15      | 7.3 x 4.3 x 1.5 毫米   | 西       | 十       |
| 7343-20      | 7.3 x 4.3 x 2.0 毫米   | 五       | 是       |
| 7343-30      | 7.3 x 4.3 x 3.0 毫米   | —        | 否       |
| 7343-31      | 7.3 x 4.3 x 3.1 毫米   | 德       | 德       |
| 7343-40      | 7.3 x 4.3 x 4.0 毫米   | 是       | —        |
| 7343-43      | 7.3 x 4.3 x 4.3 毫米   | 十       | 埃       |
| 7360-38      | 7.3 x 6.0 x 3.8 毫米   | 埃       | —        |
| 7361-38      | 7.3 x 6.1 x 3.8 毫米   | —        | 五       |
| 7361-438     | 7.3 x 6.1 x 4.3 毫米   | —        | 乌       |

## 贴片电解电容

**CP_Elec** _[*制造商*] _[ *X* ] x[ *true* ] _ **H** [*高度*] _ **P** [*间距*] _[*修饰符*] _[*选项*]

- **制造商**- 制造商名称（可选）
- **X** - 外壳尺寸（x 轴方向）
- **true** - y 维度上的案例尺寸
- **[高度]** - 外壳高度（可选）
- **[间距]** - 引线间距（可选）
- **[修饰符]** - 非标准封装修饰符（可选）
- **[选项]** – 足迹选项（可选）

例子：

CP_Elec_10x10.5mm_H6mm

## THT 电容

[ *C/CP* ] _[*样式*] _ **L** [*表壳尺寸*] _ **D** [*直径*] _ **W** [*宽度*] _ **P** [*间距*] _[*修饰符*] _[*选项*]

- **C/CP——**电容器极化
- **样式**- 电容器外壳样式（参见下面的注释）
- **表壳尺寸**-表身长度（可选）
- **直径**- 表壳直径（可选）
- **宽度**- 车身宽度（可选）
- **间距**- 引线间距
- **修饰符**- 非标准情况下的足迹修饰符
- **选项**- 足迹选项（可选）

例子：

C_轴向_L67.0毫米_D26.0毫米_P75.0毫米

笔记：

1. 有多种电容器样式可供选择：
   - 轴向：带有轴向引线附件的圆柱形主体。
   - 径向：圆柱形体，两根引线从同一端进入。
   - 圆盘：圆盘状主体（有时封闭），导线切向内圆盘
   - 矩形：盒状主体（底面与板接触）
2. 体型：
   - 对于轴向体型：L[长度]_D[直径]
   - 对于径向主体样式：D[直径]{_H[高度]}
   - 对于圆盘体样式：D[直径]_W[宽度]{_H[总高度]}
   - 适合箱形体型：[X]x[Y]{x[Z]}

#### [F3.4 SMD IC 封装命名规范](https://klc.kicad.org/footprint/f3/f3.4.html)

以下封装命名约定应作为命名 SMD IC 封装封装的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## Gullwing Packages（扁平封装）

以下格式提供了 Gullwing IC 封装命名的指南。

例子：

- 集成电路封装
- 标准操作程序
- 扁平扁平封装
- J-引线

[ *PKG* ] -[*引脚数*] -[ *EP 数量*] **EP** _[ *X* ] x[ *Y* ] x[ *Z* ] _ **P** [*间距*] _[*修饰符*] _[*选项*]

- **PKG——**软件包名称
- **引脚数**- （唯一）引脚的数量
- **EP 数量**- 器件下方裸露焊盘的数量（如果大于零）（可选）
- **X** - 零件在 x 轴上的主尺寸
- **Y** - 零件在 y 轴上的主尺寸
- **Z** - 零件在 z 轴上的主尺寸（可选）
- **节距**- 引线节距
- **修改器**- 足迹修改器（可选）
- **选项**- 额外占用空间选项（可选）

例子：

SOIC-16[-][1][EP][_][3.9][x][9.9毫米][_][P][1.27毫米]

笔记：

1. [ `PKG`] - 指业界最常用的名称。通常，这意味着 JEDEC 命名，但可以根据需要使用其他标准。
2. [ ] -*唯一编号*`Pin count`焊盘的数量（不包括器件下方的任何裸露焊盘）
3. [ `Modifiers`] - 可能因各个 IC 封装类型而异。包括：
   - 清除
   - 导线尺寸
   - 焊盘尺寸
   - 裸露焊盘尺寸
   - 阻焊层扩展

## 无引线封装

例子：

- DFN
- 扁平无引线
- 低成本航空

[ *PKG* ] -[*引脚数*] -[ *EP 数量*] **EP** _[ *X* ] x[ *Y* ] x[ *Z* ] _ **P** [*间距*] _[*修饰符*] _[*选项*]

- **PKG——**软件包名称
- **Pincount** - （唯一）引脚的数量
- **EP 数量**- 器件下方裸露焊盘的数量（如果大于零）（可选）
- **X** - 零件在 x 轴上的主尺寸
- **Y** - 零件在 y 轴上的主尺寸
- **Z** - 零件在 z 轴上的主尺寸（可选）
- **节距**- 引线节距
- **修改器**- 足迹修改器（可选）
- **选项**- 额外占用空间选项（可选）

例子：

DFN-12[-][1][EP][_][4][x][4][x][0.9 毫米][_][P][0.5 毫米]

笔记：

1. 引线长度是封装设计的标称引线长度
2. 也可以提供标称引线宽度

## 球栅阵列封装

[ *PKG* ] -[*引脚数*] _[ *X* ] x[ *Y* ] x[ *Z* ] _**布局**[*列*] x[*行*] _ **P** [*间距 X* ] x[*间距 Y* ] _**焊球**[*焊球*] _**焊盘**[*焊盘*] _[ *NSMD/SMD* ] _[*修饰符*] _[*选项*]

- **PKG——**软件包名称
- **Pincount** - （唯一）引脚的数量
- **X** - 零件在 x 轴上的主尺寸
- **Y** - 零件在 y 轴上的主尺寸
- **Z** - 零件在 z 轴上的主尺寸（可选）
- **柱**- 球柱数量
- **排数**- 球排数
- **间距 X** - 球在 x 方向的间距
- **间距 Y** - 球在 y 方向的间距（如果与 x 方向不同（可选）
- **球**- 球直径
- **垫块**- 垫块直径
- **NSMD/SMD** - 阻焊层定义或非阻焊层定义
- **修改器**- 足迹修改器（可选）
- **选项**- 额外占用空间选项（可选）

例子：

BGA-24[_][3.2][x][4.4mm][_][布局][3][x][4][_][P][0.5mm][_][球][0.25mm][_][焊盘][0.2mm][_][NSMD]

笔记：

1. 对于 BGA，仅提供引脚数是不够的。还需要提供 [ `Columns`]（x 方向）和 [ `Rows`]（y 方向）的数量。
2. 某些 BGA 封装在 x 和 y 方向上的间距不同。如果是这种情况，则`Pitch`需要提供两个 [ ] 尺寸
3. `Ball`需要提供封装设计的直径[ ]
4. [ `NSMD/SMD`]
   - NSMD 表示封装设计用于`non solder mask defined`（掩模切口大于铜垫）
   - SMD 表示封装设计为`solder mask defined`（掩模切口小于铜垫）

#### [F3.5 THT IC 封装命名约定](https://klc.kicad.org/footprint/f3/f3.5.html)

以下封装命名约定应作为THT IC 封装封装命名的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## 通孔封装 (DIP)

[ *PKG* ] -[*引脚数*] _[ *X* ] x[ *Y* ] x[ *Z* ] _ **W** [*引脚跨度*] _ **P** [*间距*] _[*修饰符*] _[*选项*]

- **PKG——**软件包名称
- **Pincount** - （唯一）引脚的数量
- **X** - 零件在 x 轴上的主尺寸
- **Y** - 零件在 y 轴上的主尺寸
- **Z** - 零件在 z 轴上的主尺寸（可选）
- **引线跨度**- 引线之间的距离
- **节距**- 引线节距
- **修饰符**- 封装规格的修饰符
- **选项**- 额外占用空间选项（可选）

例子：

DIP-14[_][宽][10.16毫米][_][间隙]

笔记：

1. 钻头尺寸（如果指定）必须提供`mm`

## 通孔封装（TO）

[ *PKG* ] -[*引脚数*] _[ *X* ] x[ *Y* ] x[ *Z* ] _ **W** [*引线跨度*] _ **P** [*间距 x* ] x[*间距 y* ] _[*交错*] _[*修饰符*] _[*方向*] _[*选项*]

- **PKG——**软件包名称
- **Pincount** - （唯一）引脚的数量
- **X** - 零件在 x 轴上的主尺寸（可选）
- **Y** - 零件在 y 轴上的主尺寸（可选）
- **Z** - 零件在 z 轴上的主尺寸（可选）
- **引线跨度**- 引线之间的距离（可选）
- **节距 x** - x 维度上的引线节距（可选）
- **节距 y** - y 维度上的引线节距（如果与 x 维度不同）（可选）
- **交错**- 引脚交错选项（可选）
- **修饰符**- 封装规格的修饰符（可选）
- **方向**- 组件方向（参见下面的注释）
- **选项**- 额外占用空间选项（可选）

例子：

TO-220-5_垂直

笔记：

1. 钻头尺寸（如果指定）必须提供`mm`
2. `Orientation`可以选择：
   - 垂直的
   - Tab 向下
   - Tab向上
3. `Stagger`可以选择：
   - StaggerOdd（奇数引脚距离组件主体较远）
   - StaggerEven（偶数引脚距离元件主体较远）

**尺寸参数：**

[![到 body_dim](https://klc.kicad.org/img/klc/to-body_dim.png)](https://klc.kicad.org/img/klc/to-body_dim.png)

方向：

[![到-THT_方向](https://klc.kicad.org/img/klc/to-THT_orientation.png)](https://klc.kicad.org/img/klc/to-THT_orientation.png)

#### [F3.6 连接器命名约定](https://klc.kicad.org/footprint/f3/f3.6.html)

以下封装命名约定应作为连接器封装命名的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## 连接器约定

连接器封装极其多样化，连接器的命名约定可能很复杂。本节详细介绍了各种连接器类型的命名方案的一些示例。虽然连接器之间存在差异，但连接器命名的一般格式如下：

[*系列*] _[*子系列*] -[*引脚*] _[ *MPN* ] _[*引脚布局*] _ **P** [*间距*] _[*修饰符*] _[*方向*] _[*选项*]

- **系列**- 通用系列名称（可选）
- **子系列**- 系列二级标识符（可选）
- **引脚**数（可选）
- **MPN** - 制造商特定标识符（可选）
- **引脚布局**- 引脚配置，特定于连接器类型（可选）
- **间距**- 引脚间距（如果连接器标准未暗示）（可选）
- **修饰符**- 连接器规格的修饰符（焊盘尺寸等）（可选）
- **方向**- 连接器相对于电路板的方向（可选）
- **选项**- 额外占用空间选项（可选）

笔记：

1. [ `Series`] - 一个多功能字段，可以包含：
   - 功能描述（例如`USB`）
   - 连接器类型（例如`PinHeader`或`TerminalBlock`）
   - 行业标准（例如`DSUB-15`）
   - 制造商特定系列（例如`Hirose_DF13`）
2. [ `MPN`]（制造商零件编号）- 根据制造商的内部命名约定唯一地标识连接器
3. [ `Pin layout`] - 取决于连接器类型
   - 单排连接器： 1x[ `number of pins`]
   - 多排连接器，每排针脚数相同：[ `number of rows`]x[`number of pins per row]`
   - 其他连接器：[ `number of rows`]Rows_[ `number of pins overall`]Pins
   - 标准化接口的连接器不需要包含引脚配置信息（例如 USB）
4. 数字格式：
   - [ `number of rows`] 行数无前导零。
   - [ `number of pins per row`] 和 [ `number of pins`] 带前导零的两位数字。（对于针脚数 > 99 的连接器，可以有更多数字）
5. [ `Pitch`] - 如果连接器标准未暗示引脚间距，则此字段为必填项
6. [ `Modifiers`] - 可在此处添加多个字段，详细说明对标准封装设计的修改或偏离。示例包括：
   - 焊盘尺寸变化
   - 钻头尺寸变化
7. [ `Orientation`] - 连接器相对于电路板平面的方向

[![连接器方向](https://klc.kicad.org/img/klc/connector_orientation.png)](https://klc.kicad.org/img/klc/connector_orientation.png)

1. [ `Options`] - 额外的占用空间选项

除了这些约定之外，还针对特定连接器类型采用了附加方案 - 详见下文。

### 特定功能连接器

许多连接器是为特定功能而设计的（例如 USB、HDMI、SD 卡等）。在这些情况下，应遵循特定的命名约定：

[*功能*] _[*标准*] _[*尺寸*] -[*类型*] _[ *MAN* ] _[ *MPN* ] _[*修饰符*] _[*方向*] _[*选项*]

- **功能**- 连接器的功能用途
- **标准**- 连接器符合的标准（如果适用）（可选）
- **尺寸**- 连接器尺寸（例如 Micro/Mini）（可选）
- **类型**- 连接器子类型（例如 A/B/C）（可选）
- **MAN** - 制造商名称（可选）
- **MPN** - 制造商零件编号（可选）
- **修改器**- 足迹修改器（可选）
- **方向**- 连接器方向（可选）
- **选项**- 额外占用空间选项（可选）

例子：

USB_Micro-B_Molex_105133-0001_垂直

笔记：

1. 下面提供了一些功能连接器命名的*示例：*
   - `USB_Micro-B_Wuerth_614105150721_Vertical_CircularHoles`
   - `HDMI_Micro-D_Molex_46765-2x0x`
   - `MicroSD_Wuerth_WR-CRD_693072010801`
2. 大多数情况下，不需要明确指定引脚布局

### 标准化形状的连接器

许多连接器由多家制造商提供，采用行业标准封装或物理布局。这些连接器应在封装名称开头使用公认的行业命名：

[*标准*] -[*引脚*] _[*系列修饰符*] _[ *MAN* ] _[*系列*] _[ *MPN* ] _[*引脚布局*] _ **P** [*间距*] _[*修饰符*] _[*方向*] _[*选项*]

- **标准**- 通用连接器标准（见下文注释）
- **针脚**- 针脚数
- **系列修饰符**- 系列修饰符（参见下文注释）
- **MAN** - 制造商名称（可选）
- **系列**- 制造商系列名称（可选）
- **MPN** - 制造商零件编号（可选）
- **引脚布局**- 引脚配置（如果适用标准未完全定义）（可选）
- **间距**- 引脚间距（如果适用标准未完全定义） （可选）
- **修饰符**- 足迹修饰符字段（可选）
- **方向**- 连接器方向（如果存在多个选项）（可选）
- **选项**- 额外占用空间选项（可选）

例子：

DSUB-15[_][高密度][_][垂直]

笔记：

1. 通用连接器类型 [ `Standard`] 定义连接器的形状
   - 例如`DSUB` `Tab` `Circular`

### 通用连接器类型

通用阵列连接器的示例：

- 排针
- 插针插座
- 接线端子

[*连接器类型*] _[ *MPN* ] _[*引脚布局*] _ **P** [*间距*] _[*修饰符*] _[*方向*] _[*选项*]

- **连接器类型**- 通用连接器样式（参见下面的注释）
- **MPN** - 制造商特定标识符（可选）
- **引脚布局**- 引脚配置布局（见下文注释）
- **间距**- 引脚间距
- **修饰符**- 连接器规格的修饰符（焊盘尺寸等）（可选）
- **方向**- 连接器相对于电路板的方向
- **选项**- 额外占用空间选项（可选）

例子：

针头_1x10_P2.54mm_钻1.25mm_水平

### 制造商专用连接器

制造商系列连接器是特定于特定制造商标准的连接器。

[ *MAN* ] _[*系列*] _[ *MPN* ] _[*引脚布局*] _ **P** [*间距*] _[*修饰符*] _[*方向*] _[*选项*]

- **MAN** - 制造商名称（可选）
- **系列**- 制造商系列名称
- **MPN——**制造商零件编号
- **引脚布局**- 引脚布局信息（见下文注释）
- **间距**- 焊盘间距
- **修饰符**- 连接器规格的修饰符（焊盘尺寸等）
- **方向**- 连接器插入相对于电路板的方向
- **选项**- 额外占用空间选项（可选）

例子：

JST_GH_S12B-EH_1x13_P2.50mm_Pad1.80mm_水平

笔记：

1. 如果封装位于专用于单个制造商的库中，则`MAN`不需要前缀

#### [F3.7 保险丝命名约定](https://klc.kicad.org/footprint/f3/f3.7.html)

以下封装命名约定应作为保险丝和保险丝座封装命名的 *示例。*

如果您找不到与特定封装类型相匹配的适当约定，请联系 KiCad 库团队或尝试匹配现有库组件设置的约定。

在下面的条目中，变量字段表示如下：

\- 固定字段
\- 必填字段
\- 可选字段

## 保险丝座

**保险丝座**_[*保险丝类型*] _[ *MAN* ] _[*系列*] _[ *MPN* ] _[*修饰符*] _[*方向*] _[*选项*]

- **保险丝类型**- 保险丝类型（可选）
- **MAN** - 制造商名称（可选）
- **系列**- 制造商系列名称（可选）
- **MPN** - 制造商零件编号（可选）
- **修饰符**- 非标准封装修饰符（可选）
- **方向**- 保险丝的方向（如果有多个方向可用）（可选）
- **选项**- 额外占用空间选项（可选）

例子：

保险丝座_Littelfuse_TE5_395

字段示例`Fuse Type`：

- 汽车保险丝：
  - 汽车-Micro2
  - 汽车-Micro3
  - 汽车-低调
  - 汽车-迷你
  - 汽车-ATO
  - 汽车-Maxi
  - 汽车-博世
  - 汽车-SFE-[SizeCode]
- 工业保险丝
  - 圆柱体-[直径]x[长度]mm

## 保险丝

### 圆柱形保险丝

**保险丝**_[ *MAN* ] _[*系列*] _[ *MPN* ] _[*车身尺寸*] _[*修饰符*] _[*方向*] _[*选项*]

- **MAN** - 制造商名称（可选）
- **系列**- 制造商系列名称（可选）
- **MPN** - 制造商零件编号（可选）
- **主体尺寸**- 主要保险丝尺寸
- **修饰符**- 非标准的足迹修饰符（可选）
- **方向**- 保险丝的方向（如果有多个方向可用）（可选）
- **选项**- 额外占用空间选项（可选）

例子：

保险丝_Littelfuse_LVR100

### 矩形 SMD 保险丝

**保险丝**_[*英制尺寸*] _[*公制尺寸*]**公制**_[*修饰符*] _[*方向*] _[*选项*]

- **英制尺寸**- 英制表壳尺寸（可选）
- **公制尺寸**- 公制表壳尺寸（可选）
- **修饰符**- 非标准的足迹修饰符（可选）
- **方向**- 相对于板平面的方向（可选）
- **选项**- 足迹选项（可选）

例子：

保险丝_0805

------

### F4 - 一般足迹要求

#### [F4.1 数据手册建议优先](https://klc.kicad.org/footprint/f4/f4.1.html)

当数据表建议与 KLC 要求之间存在冲突时，则（一般情况下）数据表应优先。

在设计封装时，重要的是它们必须符合焊接和组装的要求 - 通常这些要求对变化的容忍度非常小。

如果 KLC 与数据表不一致，请遵循数据表，并在提交贡献时向 KiCad 库团队注明这一差异。

#### [F4.2 引脚 1 应位于左上角](https://klc.kicad.org/footprint/f4/f4.2.html)

封装的方向应使得引脚 1 位于左上角 (IPC-7351)。

[![F4.2_pin1_左上](https://klc.kicad.org/img/klc/F4.2_pin1_top_left.png)](https://klc.kicad.org/img/klc/F4.2_pin1_top_left.png)

**例外**

如果封装无法将引脚 1 定位在左上象限，则引脚 1 应与顶部对齐

[![F4.2_pin1_at_top](https://klc.kicad.org/img/klc/F4.2_pin1_at_top.png)](https://klc.kicad.org/img/klc/F4.2_pin1_at_top.png)

两端封装应与左侧的引脚 1 对齐

[![F4.2_two_terminal](https://klc.kicad.org/img/klc/F4.2_two_terminal.png)](https://klc.kicad.org/img/klc/F4.2_two_terminal.png)

#### [F4.3 连接的铜元素具有相同的焊盘号](https://klc.kicad.org/footprint/f4/f4.3.html)

包含多个焊盘或**物理连接的**导电元件的封装需要特别注意：

1. 物理连接的多个焊盘必须共享相同的编号
2. 散热孔（如果存在）必须与所连接的散热垫共享相同的编号

[![F4.3_same_pad_number](https://klc.kicad.org/img/klc/F4.3_same_pad_number.png)](https://klc.kicad.org/img/klc/F4.3_same_pad_number.png)

#### [F4.4 导热垫](https://klc.kicad.org/footprint/f4/f4.4.html)

制造商数据表可能会指定应在设备封装下的导热垫上添加导热孔，以帮助将热量从设备中散发出去。

在这种情况下，数据表通常会指定这些通孔的数量、尺寸和位置。

除了制造商的要求外，创建热过孔时还应遵循许多额外的惯例。

1. 散热孔必须与其所在焊盘共用相同的焊盘编号
2. 当热通孔连接到层上的焊盘时，应`F.Cu`在层上添加铜焊盘，以便为通孔提供散热。焊盘上未启用，因此存在掩膜。此焊盘必须足够大，以完全包围通孔，边缘为。*注意：如果数据表对层上此焊盘的放置给出相冲突的建议**，则应优先考虑数据表说明。*`B.Cu``B.Mask``B.Cu``>= 0.5mm`*`B.Cu`*

1. 除非数据表有说明，否则不得将焊膏涂在散热孔上。这会导致焊料在回流过程中渗入散热孔，从而导致焊点问题。
2. 提交带有热通孔的封装时，`_ThermalVias`应在封装名称中添加后缀
3. 如果尚不存在，则应添加不带散热孔的封装的第二个版本。注意：第二个版本的*封装名称中**不应有后缀。`_ThermalVias`*

#### [F4.5 指定封装禁区](https://klc.kicad.org/footprint/f4/f4.5.html)

当需要或制造商的数据表中建议时，必须使用“规则区域（禁区）”来绘制封装禁区。

该区域应根据其用途命名（例如“天线禁止区”），此名称还必须用于在 User.Comments 层上将该区域命名为文本。

1. 仅选择适当的图层
2. 勾选所有基本规则（`Constrain outline`且`Locked`必须保持未勾选状态）
3. 轮廓显示必须`Fully hatched`

**例子：**

在对话框中和 User.Comments 层中均有命名的区域示例：

[![F4.5](https://klc.kicad.org/img/klc/F4.5.png)](https://klc.kicad.org/img/klc/F4.5.png)

#### [F4.6 本机间隙及设定值应设置为零](https://klc.kicad.org/footprint/f4/f4.6.html)

垫片间隙值是使用优先级系统确定的，该系统按优先级降序检查以下位置的间隙值。如果某个设置显示为零 ( `0`)，则忽略该设置，并检查下一个位置。

1. **本地焊盘设置**- 如果单个焊盘指定了间隙值，则使用这些值
2. **封装设置- 如果在****封装属性**窗口中指定了间隙值，则使用这些值
3. **全局设置**- 如果未指定上述值，则使用全局值（如 PCB 设置对话框中所指定的）。

除非有特殊原因需要为焊盘或引脚的局部间隙值设定明确的值，否则这些值应保留为零（`0`）。

[![F4.6a](https://klc.kicad.org/img/klc/F4.6a.png)](https://klc.kicad.org/img/klc/F4.6a.png)

**例外情况：**

如果组件数据表要求特定焊盘（或整个封装）的特定间隙值，则应适当使用这些值。

------

### F5——层要求

#### [F5.1 丝网层要求](https://klc.kicad.org/footprint/f5/f5.1.html)

丝网印刷在 PCB 的外表面上，用于帮助识别和定位元件。通常，此层包含元件参考标示，用于在组装后定位电路板上的元件。

KiCad 将丝网层称为：

- `F.SilkS`- 正面丝网印刷层
- `B.SilkS`- 背面丝网层

丝网印刷上必须提供以下元素。

1. 参考指示器必须绘制在`F.SilkS`层上
   1. 文字大小 =`1.00mm`
   2. 文字厚度 =`0.15mm`
2. 丝网印刷线宽介于 {`0.10mm`和`0.15mm`} 之间：
   1. 丝网印刷线宽度名义上应为`0.12mm`
   2. `0.1mm`适用于高密度设计
   3. `0.15mm`适用于低密度设计
3. 丝网印刷不得放置在焊盘或裸露的铜区域上
   1. 建议丝网印刷和裸露的铜元素之间的间隙为 0.2 毫米。
   2. 间隙必须至少为丝网印刷线宽或焊盘掩模扩展，以较大者为准。
4. 对于 SMD 封装，丝网印刷在电路板组装后必须完全可见（元件下方不允许有丝网印刷）
5. 对于 THT 组件，可以在组件下方放置额外的丝网印刷以协助组装过程
6. `F.SilkS`必须在层上绘制极性标记/ Pin-1 标识符
7. 当元件预计会伸出电路板边缘（例如连接器）时，丝网印刷不应放置在合理放置的元件上，以使丝网印刷在电路板外面
   1. 丝网和电路板边缘之间的间隙应至少为 0.5 毫米

**极性标记/Pin-1 指示器**

1. SMD 封装的首选样式是填充的 V 形`▶`
   1. 它应该位于庭院内，以防止丝网重叠
   2. 可旋转 45° 以获得更好的贴合度
2. 其他已建立并可接受的风格示例
   1. 用于 SMD 器件
      1. `⊔`SMD 二极管的形状
      2. 对于小封装（0201 二极管，...），应使用 0.25 毫米点。
   2. 适用于 THT 和 SMD 封装
      1. `corner bracket`或`extra line`连接器
      2. `+`SMD 电容器标志
   3. 遵循目标库中已存在的既定样式
3. 如果设备的标记不在 Pin-1 上（数字 LED 上很常见），则需要特别注意标记
   1. 数字`1`印在 1 号引脚旁边的丝网标记上
   2. 丝网印刷极性标记是根据设备上的物理标记放置的
4. 电路板组装后，标记必须清晰可见，以便检查和调试
   1. 连接器配接后也应该可见

**示例**

非极化组件丝绸示例

[![F5.1_丝绸_非偏振](https://klc.kicad.org/img/klc/F5.1_silk_non_polarized.png)](https://klc.kicad.org/img/klc/F5.1_silk_non_polarized.png)

极化元件丝网印刷示例

[![F5.1_丝绸_偏振](https://klc.kicad.org/img/klc/F5.1_silk_polarized.png)](https://klc.kicad.org/img/klc/F5.1_silk_polarized.png)

带有丝网印刷的连接器的示例，该连接器从可能的电路板边缘“拉回”：

[![F5.1_丝绸边缘间隙](https://klc.kicad.org/img/klc/F5.1_silk_edge_clearance.png)](https://klc.kicad.org/img/klc/F5.1_silk_edge_clearance.png)

#### [F5.2 制造层要求](https://klc.kicad.org/footprint/f5/f5.2.html)

制造层用于显示 PCB 上组件的简化机械轮廓。

KiCad 将制造层称为：

- `F.Fab`- 前部制造层
- `B.Fab`- 背面制造层

制造层必须提供以下元素

1. 必须在`F.Fab`层上提供简化的组件轮廓
   1. `0.10mm`轮廓使用 {和}之间的线宽`0.15mm`（推荐`0.10mm`）
   2. 轮廓应该简化，不要显示复杂的特征
   3. 对于基于元件体形状的轮廓，使用公称尺寸
2. 绘制了引脚 1 的封装极化/位置
   1. 对于 IC 封装，斜面绘制在靠近 1 号引脚的角落处
   2. 斜面应为`1mm`或`25% of package size`（以较小者为准）
   3. 对于连接器，应使用在 1 号引脚旁边绘制的小箭头指示
3. 元件值（封装名称）必须显示在`F.Fab`层上
   1. 建议的文字大小 =`1.0mm`
   2. 允许的文本大小 = {`0.5mm`至`1.0mm`}
   3. 文本粗细应`15%`与文本大小大致相同（出于美观原因，允许有所变化）
   4. 放置在零件轮廓下方（正 y 方向）。
4. 必须在图层上提供参考指示器 (RefDes) 的第二个副本`F.Fab`。要添加第二个 RefDes 项，请添加一个文本对象，其值为`${REFERENCE}`
   1. 参照标示元件必须位于元件主体的中心（元件轮廓内）
   2. 参照标示元件的方向应与主要元件轴相匹配
   3. 文本大小应缩放以匹配组件大小
      1. 建议按比例缩放，以便 4 个字符可以容纳，而不会与同一层的其他特征重叠。
      2. 如果文本大小限制无法容纳至少 3 个字符，则应将引用移到外面（但缩放到允许的最小文本大小）
   4. 建议的文字大小 =`1.00mm`
   5. 允许的文本大小 = {`0.5mm`至`1.0mm`}
   6. 文本粗细应`15%`与文本大小大致相同（出于美观原因，允许有所变化）

[![F5.2a](https://klc.kicad.org/img/klc/F5.2a.png)](https://klc.kicad.org/img/klc/F5.2a.png)

#### [F5.3 庭院层要求](https://klc.kicad.org/footprint/f5/f5.3.html)

元件庭院被定义为在组合元件主体和焊盘图案边界周围提供最小电气和机械间隙的最小矩形区域。可以使用多边形而不是简单的矩形来创建轮廓庭院区域。（IPC-7351C）

庭院应该包括用于连接连接器所需的任何额外间隙（例如）。

KiCad 将庭院层称为：

- `F.CrtYd`- 前院层
- `B.CrtYd`- 后院层

必须在图层上绘制一个完全封闭的组件庭院`F.CrtYd`，其参数如下：

1. 庭院使用`0.05mm`线宽
2. 所有庭院线元素都放置在`0.01mm`网格上
3. 如果元器件要求在PCB背面有庭院，则该`B.CrtYd`层上也必须提供相应的庭院。
4. 当庭院取决于物理零件主体的尺寸时，间隙是根据零件的标称尺寸计算的。

庭院清理应遵守下列要求：

1. 除非另有规定，间隙为`0.25mm`
2. 小于的部件`0603`应具有间隙`0.15mm`
3. 连接器应具有 的间隙`0.5mm`，除了连接器配合所需的间隙之外
4. 罐装电容器应具有`0.5mm`
5. 晶体应具有`0.5mm`
6. BGA器件应具有`1.0mm`

[![F5.3a](https://klc.kicad.org/img/klc/F5.3a.png)](https://klc.kicad.org/img/klc/F5.3a.png)

应用于 QFP-64 封装的轮廓庭院轮廓时的庭院间隙示例。（显示庭院、晶圆厂轮廓和铜垫。）

[![crtyd_clearance_示例](https://klc.kicad.org/img/klc/crtyd_clearance_example.png)](https://klc.kicad.org/img/klc/crtyd_clearance_example.png)

#### [F5.4 图层上的元素不应重叠](https://klc.kicad.org/footprint/f5/f5.4.html)

足迹不应有重叠或重复的图形元素。这包括线条、弧线和圆圈。接触端点或交叉点不被视为重叠。

------

### F6——表面贴装元件

#### [F6.1 封装元件类型必须设置为表面贴装](https://klc.kicad.org/footprint/f6/f6.1.html)

必须将元件**类型**设置`SMD`为表面贴装封装。这是为了确保这些封装包含在**封装位置 (.pos)**文件输出中。

- 复选框`Not in schematic`、`Exclude from position files`和`Exclude from BOM`必须取消选中
- 要设置封装放置类型，请打开**封装属性**窗口并按照指示选择**表面贴装**。

[![F6.1](https://klc.kicad.org/img/klc/F6.1.png)](https://klc.kicad.org/img/klc/F6.1.png)

#### [F6.2 封装锚点应放置在组件主体的中间](https://klc.kicad.org/footprint/f6/f6.2.html)

自动拾取和放置 (PNP) 机器使用封装锚点 (也称为*元件原点) 在 PCB 上定位和放置 SMD 元件。*

对于大多数标准组件来说，锚点一般应位于组件主体的质心上。

在 KiCad 封装编辑器中，封装锚点*始终位于原点*(0, 0)。要相对于锚点（原点）移动封装，请按**放置封装参考锚点**按钮（参见下图）。

[![F6.2_footprint_anchor](https://klc.kicad.org/img/klc/F6.2_footprint_anchor.png)](https://klc.kicad.org/img/klc/F6.2_footprint_anchor.png)

**例外情况：**

一些足迹（特别是非对称的足迹）需要特别考虑，并且锚点不一定放置在组件质心上。

一般来说，封装锚点的正确位置可以在组件数据表中找到。下图显示了**Molex Pico-Lock**连接器的示例。

[![F6.2b](https://klc.kicad.org/img/klc/F6.2b.png)](https://klc.kicad.org/img/klc/F6.2b.png)

#### [F6.3 SMD 封装的焊盘要求](https://klc.kicad.org/footprint/f6/f6.3.html)

表面贴装焊盘对 PCB 设计有特定的要求。

1. 默认情况下，SMD 封装的焊盘应仅使用以下层
   1. `F.Cu`- 正面铜
   2. `F.Mask`- 正面阻焊层
   3. `F.Paste`- 正面焊膏（模板开口）
2. 如果SMD焊盘位于PCB背面，则应使用以下层：
   1. `B.Cu`- 背铜
   2. `B.Mask`- 背面阻焊层
   3. `B.Paste`- 背面焊膏（模板开口）
3. 具有特定模板孔径设计要求的焊盘需要特别注意（见下文详细信息）
4. 矩形焊盘应使用“圆角矩形”焊盘形状。
   1. 例外情况：当焊盘有“修剪过的跟部”时（可能是由于较大的导热焊盘或会干扰焊膏的元件主体），请使用矩形焊盘

**注意：** IPC-7351C 建议半径为较短焊盘边缘的 25% 或 0.25 毫米（以较小者为准）。IPC-7352 未指定半径，但此 IPC-7351C 建议是一个很好的起点。

[![F6.3_脚跟减少](https://klc.kicad.org/img/klc/F6.3_heel_reduction.png)](https://klc.kicad.org/img/klc/F6.3_heel_reduction.png)

**焊膏的要求**

许多元件（尤其是 IC 封装）对焊膏（模板）设计有特定的设计要求。这些要求通常可以在封装数据表或相关技术文档中找到。

通常，大型 IC 封装上的裸露焊盘需要定制模板开口，以减少模板应用期间涂抹的焊膏量。

下图显示了封装数据表中的示例模板设计。叠加的蓝色方块表示裸露的铜垫的形状。绿色方块是模板中所需的开口。

[![F6.3_模板_数据表](https://klc.kicad.org/img/klc/F6.3_stencil_datasheet.png)](https://klc.kicad.org/img/klc/F6.3_stencil_datasheet.png)

定制模板开口如下：

1. `F.Cu`根据需要，使用仅含铜层（和/或）的焊盘构建铜形状`B.Cu`。这些铜焊盘不应勾选`F.Paste`或`B.Paste`层。
2. 根据需要添加带有焊盘的模板开口，这些焊盘仅使用焊膏层（`F.Paste`和/或）。这些焊盘*没有焊盘编号*。将焊盘类型设置为*SMD 孔径*以禁用焊盘的铜层。`B.Paste`
3. 焊膏应覆盖无阻焊层焊盘面积的 50% 至 80%。（建议：65%）

**结果：（** *注意：这个足迹与上面显示的示例不对应）*

[![F6.3_stencil_fpeditor](https://klc.kicad.org/img/klc/F6.3_stencil_fpeditor.png) ](https://klc.kicad.org/img/klc/F6.3_stencil_fpeditor.png)[![F6.3_stencil_3d](https://klc.kicad.org/img/klc/F6.3_stencil_3d.png)](https://klc.kicad.org/img/klc/F6.3_stencil_3d.png)

**裸露焊盘的尺寸**

以下规则适用于寻找包括裸露焊盘在内的部件的正确焊盘尺寸。

1. 默认情况下使用封装焊盘的标称尺寸。
2. 如果制造商建议的封装尺寸如此建议，则允许在所述封装焊盘的公差范围内发生变化。
   1. 不允许使用小于封装焊盘最小尺寸的封装焊盘。
   2. 如果建议封装使用的焊盘大于封装焊盘的最大尺寸，则应使用阻焊定义焊盘。（意思是：铜可以覆盖更大的面积，但裸露的铜仍在封装焊盘公差范围内。）

**裸露焊盘和普通焊盘之间的间隙要求**

1. 裸露焊盘和正常焊盘之间应至少保留 0.2mm 的间隙。
2. 此间隙仅适用于无阻焊层的区域。（阻焊层定义焊盘的间隙是普通焊盘与裸露焊盘的阻焊层切口之间的间距。）
3. 如果有必要的话，可以减小普通垫块的后跟圆角以实现该间隙。

**垫制造性能**

1. 散热片垫（例如，连接裸露垫的地方）必须在铜垫（正面，如果有，背面）以及所有热过孔上设置“散热片”垫制造属性。
2. 球附着的 BGA 焊盘必须设置“BGA”焊盘制造属性。

**区域连接覆盖**

1. 散热器垫的区域连接覆盖必须设置为“实心”。

------

### F7——通孔元件

#### [F7.1 封装放置类型必须设置为通孔](https://klc.kicad.org/footprint/f7/f7.1.html)

必须将封装**放置类型设置**`Through Hole`为 THT 封装。这可确保这些封装不包含在拾取和放置 (PNP) 位置文件中。

可以在**Footprint Properties**窗口中选择

[![F7.1](https://klc.kicad.org/img/klc/F7.1.png)](https://klc.kicad.org/img/klc/F7.1.png)

#### [F7.2 封装锚点应放置在 Pin-1 的位置](https://klc.kicad.org/footprint/f7/f7.2.html)

对于通孔元件，封装锚点应放置在引脚 1 的位置。

[![F7.2](https://klc.kicad.org/img/klc/F7.2.png)](https://klc.kicad.org/img/klc/F7.2.png)

#### [F7.3 引脚 1 应为矩形或圆角矩形。其他焊盘应为圆形或椭圆形](https://klc.kicad.org/footprint/f7/f7.3.html)

通孔元件应将引脚 1 的形状设置为`Rectangular`或`Rounded Rectangle`，并将所有其他焊盘设置为`Circular`或`Oval`。这有助于在放置期间定位元件，也有助于定位引脚 1 以进行电路故障排除。对于圆角矩形焊盘，角尺寸应为 25%，最大半径为 0.25 毫米。

**可以在Pad Properties**对话框中调整 Pad 的形状：

[![F7.3a](https://klc.kicad.org/img/klc/F7.3a.png)](https://klc.kicad.org/img/klc/F7.3a.png)

**例外：**

非极化部件（例如 THT 电阻）不应将引脚 1 的形状设置为矩形。对于这些（非极化）封装，所有焊盘形状应保持一致。

#### [F7.4 THT 封装的焊盘要求](https://klc.kicad.org/footprint/f7/f7.4.html)

通孔焊盘必须拉回阻焊层以进行焊接。但是，通孔焊盘不得有焊膏开口，因为在模板筛选期间，通孔焊盘不会接收焊膏。

1. THT 封装的焊盘必须设置以下层：
   1. 所有铜层
   2. `F.Mask`（正面面具）
   3. `B.Mask`（背面有遮罩）
2. 焊盘不得**有**丝网印刷层

[![F7.4a](https://klc.kicad.org/img/klc/F7.4a.png)](https://klc.kicad.org/img/klc/F7.4a.png)

#### [F7.5 最小环形宽度](https://klc.kicad.org/footprint/f7/f7.5.html)

对于钻通孔，最小环形宽度必须至少为`0.15mm`（IPC-2221）。

[![F7.5a](https://klc.kicad.org/img/klc/F7.5a.png)](https://klc.kicad.org/img/klc/F7.5a.png)

环形圈是钻孔后剩下的铜垫。

#### [F7.6 THT孔直径](https://klc.kicad.org/footprint/f7/f7.6.html)

- 孔尺寸是指电镀后的成品孔尺寸（相对于电镀前的钻孔尺寸）
- 对于焊接通孔焊盘，最小孔径等于最大引线直径加上`0.2mm`
- 这是从 IPC-2222 2 级建议中得出的
- 最大引线直径可从器件数据表获得，并包含公差。

[![孔尺寸_圆角_引线](https://klc.kicad.org/img/klc/hole_size_round_lead.png)](https://klc.kicad.org/img/klc/hole_size_round_lead.png)

#### [F7.7 椭圆孔（镀铣槽）](https://klc.kicad.org/footprint/f7/f7.7.html)

椭圆孔的尺寸必须选择为，在各个方向上，最大引线尺寸和孔之间应有 0.2 毫米的间隙。仅当引线长宽比大于 2 时才允许使用椭圆孔。（引线横截面积的长度至少是宽度的两倍）

[![孔尺寸椭圆](https://klc.kicad.org/img/klc/hole_size_oval.png)](https://klc.kicad.org/img/klc/hole_size_oval.png)

最大引线尺寸可从器件数据表获得。

------

一些 PCB 制造商无法生产铣槽。允许仅使用圆形孔添加替代封装。这些需要遵循与所有其他孔相同的钻头尺寸增加。等效引线直径应四舍五入到下一个 0.01 毫米增量。

这种替代方案的足迹名称以后缀为 为标记`_CircularHoles`。

[![孔尺寸矩形引线](https://klc.kicad.org/img/klc/hole_size_rectangle_lead.png)](https://klc.kicad.org/img/klc/hole_size_rectangle_lead.png)

------

### F8 - 虚拟部件

#### [F8.1 非 SMD/THT 元件](https://klc.kicad.org/footprint/f8/f8.1.html)

如果组件在 PCB 上有占位面积（并且可能还有原理图符号），但没有关联物理组件（需要在组装过程中加载到电路板上），则必须将其类型设置为`Other`。`Exclude from position file`必须标记复选框，`Exclude from BOM`应选中复选框。

示例包括：

- 安装孔
- 焊桥
- 网络联系
- 测试点
- 基准标记
- 符号和标志

[![F8.1a](https://klc.kicad.org/img/klc/F8.1a.png)](https://klc.kicad.org/img/klc/F8.1a.png)

## 从 BOM 中排除

有些零件应该在 BOM 中，但不在位置文件中。对于需要手动安装的组件，请使用此选项。对于这些，复选框`Exclude from BOM`必须保持未选中状态。

示例包括：

- 光导管
- 螺钉
- 夹式散热器

------

### F9 - 足迹属性

#### [F9.1 足迹元数据按适当方式填写](https://klc.kicad.org/footprint/f9/f9.1.html)

1. **参考**字段必须设置为`REF**`
2. **值**和**封装名称**字段必须与封装文件名匹配（忽略`.kicad_mod`扩展名）
3. **描述**字段包含逗号分隔的设备信息。在适当的情况下，应包含封装数据表的 URL。
4. **关键字**字段包含空格分隔的关键字值

[![F9.1a](https://klc.kicad.org/img/klc/F9.1a.png)](https://klc.kicad.org/img/klc/F9.1a.png)

#### [F9.2 除非数据表另有要求，否则封装属性均为默认值。](https://klc.kicad.org/footprint/f9/f9.2.html)

封装属性应保留为默认值，除非有封装数据表指定的理由（例如）。

1. **移动和放置**必须设置为`Free`
2. **自动放置**应设置为`0`，`0`
3. **本地清除值**应全部设置为`0`

[![F9.2a](https://klc.kicad.org/img/klc/F9.2a.png)](https://klc.kicad.org/img/klc/F9.2a.png)

**例外情况：**

**局部间隙值**参数通常设置为`0`，表示将使用全局间隙值来确定焊盘间隙。

如果特定封装上的*所有*焊盘都需要特定的间隙值（例如数据表所述），则可以在此处使用这些值来覆盖整个封装的特定焊盘设置。

#### [F9.3 足迹3D模型要求](https://klc.kicad.org/footprint/f9/f9.3.html)

1. 所有非虚拟封装都必须有 3D 模型参考，即使 3D 模型缺失（尚不存在）。这样可以稍后添加 3D 模型，而无需再次编辑封装。（不需要提供 3D 模型文件。）
2. 3D 模型文件必须放置在与封装库同名的库（目录）中，扩展名为`.3dshapes`
   - `Capacitor_SMD.pretty`→`Capacitor_SMD.3dshapes`
   - `Connector_USB.pretty`→`Connector_USB.3dshapes`
3. 3D 模型文件应与封装图命名相同（忽略文件扩展名）
   - `SOIC-8.kicad_mod`→`SOIC-8.wrl`
   - `R0805.kicad_mod`→`R0805.wrl`
4. 如果足迹是简单的变化，不会改变 3D 表示，则应使用通用 3D 模型（*不要不必要地重复模型*）
   - `R0805_HandSoldering.kicad_mod`→`R0805.wrl`
   - `QFN-48_ThermalVias.kicad_mod`→`QFN-48.wrl`
5. 模型缩放比例必须为 1:1:1（模型文件不需要任何缩放即可正确适应尺寸）
6. 旋转和偏移必须为 0（模型必须与 3D 建模软件中的足迹正确对齐。）
7. 3D 模型路径必须有`${KICAD6_3DMODEL_DIR}/`前缀
8. 文件类型必须是`.wrl`（KiCad 会自动将其替换为 .step 以进行步骤导出。）

[![F9.3a](https://klc.kicad.org/img/klc/F9.3a.png)](https://klc.kicad.org/img/klc/F9.3a.png)

------

## 3D 模型指南

以下指南适用于 3D 模型数据的贡献。

------

### M1——贡献模型

#### [M1.2 贡献者必须拥有分享3D模型的权利](https://klc.kicad.org/model/m1/m1.1.html)

KiCad 3d 模型库的目标是提供一个免费的开放 3d 模型库。这要求对贡献的法律地位进行一定的限制。

- 用户只能提交他们拥有根据 KiCad 库许可证允许重新授权的权利的模型。
- 在大多数情况下，这意味着他们自己创建了模型，可以通过参数化建模软件手动设计或通过脚本工具设计。
- 贡献由第三方设计的模型数据会使许可问题变得复杂，应避免这样做。这包括从制造商网站下载的文件。

#### [M1.2 已撤回](https://klc.kicad.org/model/m1/m1.2.html)

该规则已被撤销。

#### [M1.3 必须提供 3D 模型的源文件](https://klc.kicad.org/model/m1/m1.3.html)

KiCad 库在https://gitlab.com/kicad/libraries/kicad-packages3D-source维护一个 3D 源文件存储库。

当用户贡献3D模型数据时，必须将用于生成3D模型数据的*源文件*提交到此存储库。

- 3d 模型的源文件是 3d 建模软件生成的原始文件（例如：Freecad 的 fcstd）。
- 源文件或者是任何生成器脚本。
  - [但是， https://github.com/easyw/kicad-3d-models-in-freecad](https://github.com/easyw/kicad-3d-models-in-freecad)中的脚本不需要添加到源仓库中。
- 源存储库目录结构与 kicad-packages-3d 存储库目录结构相同。

**例外**

如果模型是由组件制造商的授权代表提交的，KiCad 库团队可能会免除提交源文件的要求。这取决于制造商是否向 KiCad 团队提供主要联系点以接收模型问题报告，以及是否承诺提供更新的 STEP/WRL 模型以解决 STEP/WRL 模型不正确的问题。

*KiCad 库团队保留自行决定替换任何模型的权利，并可能优先考虑符合 M1.3 的模型。*

------

### M2 - 3D 文件要求

#### [M2.1 3D 模型必须以“step”和“wrl”格式提供](https://klc.kicad.org/model/m2/m2.1.html)

对 KiCad 库的任何 3D 模型贡献都必须采用 step 和 wrl 格式。

**西弗吉尼亚大学**

- WRL 文件包含材料属性，可用于逼真的渲染。但是，它们无法导出到 MCAD 软件包。

**步**

- STEP 文件用于与 MCAD 软件包集成。这些文件不包含材料属性，不能用于逼真的渲染。

#### [M2.2 模型对齐和缩放](https://klc.kicad.org/model/m2/m2.2.html)

3D 模型必须适当对齐和缩放才能与相关的足迹相匹配。

**结盟**

必须对齐 3D 模型，使其不需要在封装选项中添加额外的对齐偏移。将 3D 模型与封装关联时，参数`offset`必须为 ( `0`, `0`, `0`)

**扩展**

1. STEP 文件包含绝对尺寸信息，并且*绝不能应用二次缩放因子*。KiCad 中的模型`scaling`参数必须为 ( `1`, `1`, `1`)
2. WRL 文件不指定绝对尺寸。WRL 文件格式无法指定其单位的含义。由于历史原因，KiCad 将一个 WRL 单位视为 0.1 英寸，因此必须相应地缩放模型。
   1. 假设模型设计好了，`mm`那么 WRL 导出所需的缩放因子是`1/2.54`(~0.393700787)。
   2. Freecad 扩展*kicad-stepup*导出已正确缩放的 WRL 文件。

**旋转**

必须旋转模型，使得 KiCad 内不需要进行额外的旋转来将 3D 模型与封装对齐。

#### [M2.3 Freecad 是首选设计工具](https://klc.kicad.org/model/m2/m2.3.html)

KiCad 3d 模型库的目标是提供一个免费的开放 3d 模型库。正是出于这个原因，我们更倾向于使用开源设计工具。

Freecad 被选为首选工具。尤其是与 kicad-stepup 扩展结合使用时。

好的替代方案是开放脚本选项，例如 OpenSCAD 或 CadQuery。对于后者，请考虑为[https://gitlab.com/kicad/libraries/kicad-packages3D-generator做出贡献](https://gitlab.com/kicad/libraries/kicad-packages3D-generator)

允许使用闭源工具创建的文件。如果某个模型既可以在开放工具中设计，也可以在封闭工具中设计，则开放工具中的模型将优先使用，并将替换另一个模型。